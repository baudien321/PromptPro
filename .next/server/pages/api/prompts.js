"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/prompts";
exports.ids = ["pages/api/prompts"];
exports.modules = {

/***/ "(api-node)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthSession: () => (/* binding */ getAuthSession),\n/* harmony export */   withAuth: () => (/* binding */ withAuth),\n/* harmony export */   withAuthForMethods: () => (/* binding */ withAuthForMethods)\n/* harmony export */ });\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Check if the request is authenticated\n * @param {Object} req - The request object\n * @returns {Promise<Object|null>} - The user session or null if not authenticated\n */ async function getAuthSession(req) {\n    return await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n        req,\n        secret: process.env.NEXTAUTH_SECRET\n    });\n}\n/**\n * Higher-order function that creates an API handler that requires authentication\n * @param {Function} handler - The API handler to protect\n * @returns {Function} - The protected API handler\n */ function withAuth(handler) {\n    return async (req, res)=>{\n        const session = await getAuthSession(req);\n        if (!session) {\n            return res.status(401).json({\n                error: \"Unauthorized\"\n            });\n        }\n        // Add the session to the request object\n        req.session = session;\n        // Also add a user property for compatibility\n        req.user = {\n            id: session.sub || session.id,\n            name: session.name,\n            email: session.email\n        };\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n/**\n * Higher-order function that optionally requires authentication for certain methods\n * @param {Function} handler - The API handler \n * @param {Array} protectedMethods - HTTP methods that require authentication (e.g., ['POST', 'PUT', 'DELETE'])\n * @returns {Function} - The conditionally protected API handler\n */ function withAuthForMethods(handler, protectedMethods = [\n    'POST',\n    'PUT',\n    'DELETE'\n]) {\n    return async (req, res)=>{\n        // Check if the current method requires authentication\n        if (protectedMethods.includes(req.method)) {\n            const session = await getAuthSession(req);\n            if (!session) {\n                return res.status(401).json({\n                    error: \"Unauthorized\"\n                });\n            }\n            // Add the session to the request object\n            req.session = session;\n            // Also add a user property for compatibility\n            req.user = {\n                id: session.sub || session.id,\n                name: session.name,\n                email: session.email\n            };\n        }\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlDO0FBRXpDOzs7O0NBSUMsR0FDTSxlQUFlQyxlQUFlQyxHQUFHO0lBQ3RDLE9BQU8sTUFBTUYsdURBQVFBLENBQUM7UUFBRUU7UUFBS0MsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0lBQUM7QUFDbkU7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0MsU0FBU0MsT0FBTztJQUM5QixPQUFPLE9BQU9OLEtBQUtPO1FBQ2pCLE1BQU1DLFVBQVUsTUFBTVQsZUFBZUM7UUFFckMsSUFBSSxDQUFDUSxTQUFTO1lBQ1osT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlO1FBQ3REO1FBRUEsd0NBQXdDO1FBQ3hDWCxJQUFJUSxPQUFPLEdBQUdBO1FBRWQsNkNBQTZDO1FBQzdDUixJQUFJWSxJQUFJLEdBQUc7WUFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO1lBQzdCRSxNQUFNUCxRQUFRTyxJQUFJO1lBQ2xCQyxPQUFPUixRQUFRUSxLQUFLO1FBQ3RCO1FBRUEsNEJBQTRCO1FBQzVCLE9BQU9WLFFBQVFOLEtBQUtPO0lBQ3RCO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNVLG1CQUFtQlgsT0FBTyxFQUFFWSxtQkFBbUI7SUFBQztJQUFRO0lBQU87Q0FBUztJQUN0RixPQUFPLE9BQU9sQixLQUFLTztRQUNqQixzREFBc0Q7UUFDdEQsSUFBSVcsaUJBQWlCQyxRQUFRLENBQUNuQixJQUFJb0IsTUFBTSxHQUFHO1lBQ3pDLE1BQU1aLFVBQVUsTUFBTVQsZUFBZUM7WUFFckMsSUFBSSxDQUFDUSxTQUFTO2dCQUNaLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQWU7WUFDdEQ7WUFFQSx3Q0FBd0M7WUFDeENYLElBQUlRLE9BQU8sR0FBR0E7WUFFZCw2Q0FBNkM7WUFDN0NSLElBQUlZLElBQUksR0FBRztnQkFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO2dCQUM3QkUsTUFBTVAsUUFBUU8sSUFBSTtnQkFDbEJDLE9BQU9SLFFBQVFRLEtBQUs7WUFDdEI7UUFDRjtRQUVBLDRCQUE0QjtRQUM1QixPQUFPVixRQUFRTixLQUFLTztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGJhdWRpXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvbXB0UHJvXFxQcm9tcHRQcm9cXGxpYlxcYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHJlcXVlc3QgaXMgYXV0aGVudGljYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSByZXF1ZXN0IG9iamVjdFxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSAtIFRoZSB1c2VyIHNlc3Npb24gb3IgbnVsbCBpZiBub3QgYXV0aGVudGljYXRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFNlc3Npb24ocmVxKSB7XG4gIHJldHVybiBhd2FpdCBnZXRUb2tlbih7IHJlcSwgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfSk7XG59XG5cbi8qKlxuICogSGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBUEkgaGFuZGxlciB0aGF0IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gVGhlIEFQSSBoYW5kbGVyIHRvIHByb3RlY3RcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBUaGUgcHJvdGVjdGVkIEFQSSBoYW5kbGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQXV0aChoYW5kbGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0QXV0aFNlc3Npb24ocmVxKTtcbiAgICBcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgdGhlIHNlc3Npb24gdG8gdGhlIHJlcXVlc3Qgb2JqZWN0XG4gICAgcmVxLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIFxuICAgIC8vIEFsc28gYWRkIGEgdXNlciBwcm9wZXJ0eSBmb3IgY29tcGF0aWJpbGl0eVxuICAgIHJlcS51c2VyID0ge1xuICAgICAgaWQ6IHNlc3Npb24uc3ViIHx8IHNlc3Npb24uaWQsXG4gICAgICBuYW1lOiBzZXNzaW9uLm5hbWUsXG4gICAgICBlbWFpbDogc2Vzc2lvbi5lbWFpbFxuICAgIH07XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgaGFuZGxlclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBIaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCBvcHRpb25hbGx5IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIGZvciBjZXJ0YWluIG1ldGhvZHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBUaGUgQVBJIGhhbmRsZXIgXG4gKiBAcGFyYW0ge0FycmF5fSBwcm90ZWN0ZWRNZXRob2RzIC0gSFRUUCBtZXRob2RzIHRoYXQgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiAoZS5nLiwgWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSlcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBUaGUgY29uZGl0aW9uYWxseSBwcm90ZWN0ZWQgQVBJIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoRm9yTWV0aG9kcyhoYW5kbGVyLCBwcm90ZWN0ZWRNZXRob2RzID0gWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSkge1xuICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWV0aG9kIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKHByb3RlY3RlZE1ldGhvZHMuaW5jbHVkZXMocmVxLm1ldGhvZCkpIHtcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRBdXRoU2Vzc2lvbihyZXEpO1xuICAgICAgXG4gICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGUgc2Vzc2lvbiB0byB0aGUgcmVxdWVzdCBvYmplY3RcbiAgICAgIHJlcS5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBhZGQgYSB1c2VyIHByb3BlcnR5IGZvciBjb21wYXRpYmlsaXR5XG4gICAgICByZXEudXNlciA9IHtcbiAgICAgICAgaWQ6IHNlc3Npb24uc3ViIHx8IHNlc3Npb24uaWQsXG4gICAgICAgIG5hbWU6IHNlc3Npb24ubmFtZSxcbiAgICAgICAgZW1haWw6IHNlc3Npb24uZW1haWxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIGhhbmRsZXJcbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XG4gIH07XG59Il0sIm5hbWVzIjpbImdldFRva2VuIiwiZ2V0QXV0aFNlc3Npb24iLCJyZXEiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwid2l0aEF1dGgiLCJoYW5kbGVyIiwicmVzIiwic2Vzc2lvbiIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVzZXIiLCJpZCIsInN1YiIsIm5hbWUiLCJlbWFpbCIsIndpdGhBdXRoRm9yTWV0aG9kcyIsInByb3RlY3RlZE1ldGhvZHMiLCJpbmNsdWRlcyIsIm1ldGhvZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.js\n");

/***/ }),

/***/ "(api-node)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabaseConnection: () => (/* binding */ closeDatabaseConnection),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   getCollection: () => (/* binding */ getCollection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI;\nconst dbName = process.env.MONGODB_DB;\nif (!uri) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nif (!dbName) {\n    throw new Error('Please define the MONGODB_DB environment variable inside .env.local');\n}\nlet cachedClient = null;\nlet cachedDb = null;\n/**\r\n * Connects to the MongoDB database and returns the client and db instances.\r\n * Caches the connection to avoid reconnecting on every request in development.\r\n */ async function connectToDatabase() {\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    try {\n        const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, {\n        });\n        await client.connect();\n        const db = client.db(dbName);\n        console.log(\"Successfully connected to MongoDB.\");\n        cachedClient = client;\n        cachedDb = db;\n        return {\n            client,\n            db\n        };\n    } catch (error) {\n        console.error(\"Failed to connect to MongoDB\", error);\n        throw new Error(\"Could not connect to database.\");\n    }\n}\n// Optional: Helper to close the connection (useful for scripts or tests)\nasync function closeDatabaseConnection() {\n    if (cachedClient) {\n        await cachedClient.close();\n        cachedClient = null;\n        cachedDb = null;\n        console.log(\"MongoDB connection closed.\");\n    }\n}\n// Helper function to get collection references\nasync function getCollection(collectionName) {\n    const { db } = await connectToDatabase();\n    return db.collection(collectionName);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBRXRDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNuQyxNQUFNQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLFVBQVU7QUFFckMsSUFBSSxDQUFDTCxLQUFLO0lBQ1IsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDRixRQUFRO0lBQ1gsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsZUFBZTtBQUNuQixJQUFJQyxXQUFXO0FBRWY7OztDQUdDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSUYsZ0JBQWdCQyxVQUFVO1FBQzVCLE9BQU87WUFBRUUsUUFBUUg7WUFBY0ksSUFBSUg7UUFBUztJQUM5QztJQUVBLElBQUk7UUFDRixNQUFNRSxTQUFTLElBQUlYLGdEQUFXQSxDQUFDQyxLQUFLO1FBR3BDO1FBRUEsTUFBTVUsT0FBT0UsT0FBTztRQUNwQixNQUFNRCxLQUFLRCxPQUFPQyxFQUFFLENBQUNQO1FBRXJCUyxRQUFRQyxHQUFHLENBQUM7UUFFWlAsZUFBZUc7UUFDZkYsV0FBV0c7UUFFWCxPQUFPO1lBQUVEO1lBQVFDO1FBQUc7SUFDdEIsRUFBRSxPQUFPSSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE1BQU0sSUFBSVQsTUFBTTtJQUNsQjtBQUNGO0FBRUEseUVBQXlFO0FBQ2xFLGVBQWVVO0lBQ3BCLElBQUlULGNBQWM7UUFDaEIsTUFBTUEsYUFBYVUsS0FBSztRQUN4QlYsZUFBZTtRQUNmQyxXQUFXO1FBQ1hLLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0FBQ0Y7QUFFQSwrQ0FBK0M7QUFDeEMsZUFBZUksY0FBY0MsY0FBYztJQUNoRCxNQUFNLEVBQUVSLEVBQUUsRUFBRSxHQUFHLE1BQU1GO0lBQ3JCLE9BQU9FLEdBQUdTLFVBQVUsQ0FBQ0Q7QUFDdkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xcbGliXFxtb25nb2RiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XHJcblxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc3QgZGJOYW1lID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQjtcclxuXHJcbmlmICghdXJpKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5pZiAoIWRiTmFtZSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9EQiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxubGV0IGNhY2hlZERiID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiBDb25uZWN0cyB0byB0aGUgTW9uZ29EQiBkYXRhYmFzZSBhbmQgcmV0dXJucyB0aGUgY2xpZW50IGFuZCBkYiBpbnN0YW5jZXMuXHJcbiAqIENhY2hlcyB0aGUgY29ubmVjdGlvbiB0byBhdm9pZCByZWNvbm5lY3Rpbmcgb24gZXZlcnkgcmVxdWVzdCBpbiBkZXZlbG9wbWVudC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICBpZiAoY2FjaGVkQ2xpZW50ICYmIGNhY2hlZERiKSB7XHJcbiAgICByZXR1cm4geyBjbGllbnQ6IGNhY2hlZENsaWVudCwgZGI6IGNhY2hlZERiIH07XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwge1xyXG4gICAgICAvLyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIC8vIERlcHJlY2F0ZWQgaW4gbmV3ZXIgdmVyc2lvbnNcclxuICAgICAgLy8gdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLCAvLyBEZXByZWNhdGVkIGluIG5ld2VyIHZlcnNpb25zXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoZGJOYW1lKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gTW9uZ29EQi5cIik7XHJcblxyXG4gICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xyXG4gICAgY2FjaGVkRGIgPSBkYjtcclxuXHJcbiAgICByZXR1cm4geyBjbGllbnQsIGRiIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBNb25nb0RCXCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE9wdGlvbmFsOiBIZWxwZXIgdG8gY2xvc2UgdGhlIGNvbm5lY3Rpb24gKHVzZWZ1bCBmb3Igc2NyaXB0cyBvciB0ZXN0cylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlRGF0YWJhc2VDb25uZWN0aW9uKCkge1xyXG4gIGlmIChjYWNoZWRDbGllbnQpIHtcclxuICAgIGF3YWl0IGNhY2hlZENsaWVudC5jbG9zZSgpO1xyXG4gICAgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxuICAgIGNhY2hlZERiID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0aW9uIGNsb3NlZC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGNvbGxlY3Rpb24gcmVmZXJlbmNlc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSkge1xyXG4gIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XHJcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xyXG59ICJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInVyaSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsImRiTmFtZSIsIk1PTkdPREJfREIiLCJFcnJvciIsImNhY2hlZENsaWVudCIsImNhY2hlZERiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJkYiIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURhdGFiYXNlQ29ubmVjdGlvbiIsImNsb3NlIiwiZ2V0Q29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api-node)/./lib/repositories/promptRepository.js":
/*!**********************************************!*\
  !*** ./lib/repositories/promptRepository.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPrompt: () => (/* binding */ createPrompt),\n/* harmony export */   deletePrompt: () => (/* binding */ deletePrompt),\n/* harmony export */   getAllPrompts: () => (/* binding */ getAllPrompts),\n/* harmony export */   getPromptById: () => (/* binding */ getPromptById),\n/* harmony export */   incrementUsageCount: () => (/* binding */ incrementUsageCount),\n/* harmony export */   searchPrompts: () => (/* binding */ searchPrompts),\n/* harmony export */   updatePrompt: () => (/* binding */ updatePrompt)\n/* harmony export */ });\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mongodb */ \"(api-node)/./lib/mongodb.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst COLLECTION_NAME = 'prompts';\n/**\r\n * Get all prompts with optional filtering\r\n * @param {Object} filter - Optional filter criteria\r\n * @returns {Promise<Array>} Array of prompts\r\n */ async function getAllPrompts(filter = {}) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const prompts = await collection.find(filter).toArray();\n    return prompts.map(mapMongoPrompt);\n}\n/**\r\n * Get a single prompt by ID\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<Object|null>} Prompt object or null\r\n */ async function getPromptById(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const prompt = await collection.findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return prompt ? mapMongoPrompt(prompt) : null;\n}\n/**\r\n * Create a new prompt\r\n * @param {Object} promptData - Prompt data\r\n * @returns {Promise<Object>} Created prompt\r\n */ async function createPrompt(promptData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const newPrompt = {\n        ...promptData,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        usageCount: 0,\n        rating: promptData.rating || 0\n    };\n    const result = await collection.insertOne(newPrompt);\n    return {\n        id: result.insertedId.toString(),\n        ...newPrompt\n    };\n}\n/**\r\n * Update an existing prompt\r\n * @param {string} id - Prompt ID\r\n * @param {Object} promptData - Updated prompt data\r\n * @returns {Promise<Object|null>} Updated prompt or null\r\n */ async function updatePrompt(id, promptData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const updatedPrompt = {\n        ...promptData,\n        updatedAt: new Date()\n    };\n    // Don't override these fields if not explicitly provided\n    delete updatedPrompt._id;\n    delete updatedPrompt.id;\n    delete updatedPrompt.createdAt;\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: updatedPrompt\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoPrompt(result.value) : null;\n}\n/**\r\n * Delete a prompt\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<boolean>} Success flag\r\n */ async function deletePrompt(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return result.deletedCount === 1;\n}\n/**\r\n * Increment prompt usage count\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<Object|null>} Updated prompt or null\r\n */ async function incrementUsageCount(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $inc: {\n            usageCount: 1\n        }\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoPrompt(result.value) : null;\n}\n/**\r\n * Search prompts with advanced filtering\r\n * @param {string} query - Search text\r\n * @param {Object} options - Search options\r\n * @returns {Promise<Array>} Array of matching prompts\r\n */ async function searchPrompts(query, options = {}) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    // Build MongoDB query\n    const filter = {};\n    // Text search if query provided\n    if (query && query.trim() !== '') {\n        filter.$or = [\n            {\n                title: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                content: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                description: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                tags: {\n                    $in: [\n                        query\n                    ]\n                }\n            }\n        ];\n    }\n    // Apply filters\n    if (options.userId) {\n        filter.userId = options.userId;\n    }\n    if (options.teamId) {\n        filter.$or = filter.$or || [];\n        filter.$or.push({\n            teamId: options.teamId\n        }, {\n            visibility: 'team',\n            teamId: options.teamId\n        });\n    }\n    if (options.visibility) {\n        filter.visibility = options.visibility;\n    }\n    if (options.aiPlatform) {\n        filter.aiPlatform = options.aiPlatform;\n    }\n    if (options.minRating) {\n        filter.rating = {\n            $gte: parseFloat(options.minRating)\n        };\n    }\n    if (options.minUsageCount) {\n        filter.usageCount = {\n            $gte: parseInt(options.minUsageCount, 10)\n        };\n    }\n    if (options.tags && options.tags.length > 0) {\n        const tags = Array.isArray(options.tags) ? options.tags : [\n            options.tags\n        ];\n        if (options.tagMatchType === 'any') {\n            filter.tags = {\n                $in: tags\n            };\n        } else {\n            filter.tags = {\n                $all: tags\n            };\n        }\n    }\n    // Sort options\n    const sort = {};\n    if (options.sortBy) {\n        sort[options.sortBy] = options.sortDirection === 'desc' ? -1 : 1;\n    } else {\n        sort.createdAt = -1; // Default sort by newest\n    }\n    const prompts = await collection.find(filter).sort(sort).limit(options.limit || 100).toArray();\n    return prompts.map(mapMongoPrompt);\n}\n/**\r\n * Map MongoDB document to app model (handling _id conversion)\r\n * @param {Object} doc - MongoDB document\r\n * @returns {Object} Mapped prompt object\r\n */ function mapMongoPrompt(doc) {\n    return {\n        id: doc._id.toString(),\n        ...doc,\n        _id: undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9yZXBvc2l0b3JpZXMvcHJvbXB0UmVwb3NpdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ1I7QUFFbkMsTUFBTUUsa0JBQWtCO0FBRXhCOzs7O0NBSUMsR0FDTSxlQUFlQyxjQUFjQyxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNQyxhQUFhLE1BQU1MLHVEQUFhQSxDQUFDRTtJQUN2QyxNQUFNSSxVQUFVLE1BQU1ELFdBQVdFLElBQUksQ0FBQ0gsUUFBUUksT0FBTztJQUNyRCxPQUFPRixRQUFRRyxHQUFHLENBQUNDO0FBQ3JCO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVDLGNBQWNDLEVBQUU7SUFDcEMsTUFBTVAsYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFDdkMsTUFBTVcsU0FBUyxNQUFNUixXQUFXUyxPQUFPLENBQUM7UUFBRUMsS0FBSyxJQUFJZCw2Q0FBUUEsQ0FBQ1c7SUFBSTtJQUNoRSxPQUFPQyxTQUFTSCxlQUFlRyxVQUFVO0FBQzNDO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVHLGFBQWFDLFVBQVU7SUFDM0MsTUFBTVosYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFFdkMsTUFBTWdCLFlBQVk7UUFDaEIsR0FBR0QsVUFBVTtRQUNiRSxXQUFXLElBQUlDO1FBQ2ZDLFdBQVcsSUFBSUQ7UUFDZkUsWUFBWTtRQUNaQyxRQUFRTixXQUFXTSxNQUFNLElBQUk7SUFDL0I7SUFFQSxNQUFNQyxTQUFTLE1BQU1uQixXQUFXb0IsU0FBUyxDQUFDUDtJQUUxQyxPQUFPO1FBQ0xOLElBQUlZLE9BQU9FLFVBQVUsQ0FBQ0MsUUFBUTtRQUM5QixHQUFHVCxTQUFTO0lBQ2Q7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sZUFBZVUsYUFBYWhCLEVBQUUsRUFBRUssVUFBVTtJQUMvQyxNQUFNWixhQUFhLE1BQU1MLHVEQUFhQSxDQUFDRTtJQUV2QyxNQUFNMkIsZ0JBQWdCO1FBQ3BCLEdBQUdaLFVBQVU7UUFDYkks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QUFRUSxJQUFJLElBQUlSLFFBQVFRLElBQUksQ0FBQ1ksTUFBTSxHQUFHLEdBQUc7UUFDM0MsTUFBTVosT0FBT2EsTUFBTUMsT0FBTyxDQUFDdEIsUUFBUVEsSUFBSSxJQUFJUixRQUFRUSxJQUFJLEdBQUc7WUFBQ1IsUUFBUVEsSUFBSTtTQUFDO1FBRXhFLElBQUlSLFFBQVF1QixZQUFZLEtBQUssT0FBTztZQUNsQzVELE9BQU82QyxJQUFJLEdBQUc7Z0JBQUVDLEtBQUtEO1lBQUs7UUFDNUIsT0FBTztZQUNMN0MsT0FBTzZDLElBQUksR0FBRztnQkFBRWdCLE1BQU1oQjtZQUFLO1FBQzdCO0lBQ0Y7SUFFQSxlQUFlO0lBQ2YsTUFBTWlCLE9BQU8sQ0FBQztJQUNkLElBQUl6QixRQUFRMEIsTUFBTSxFQUFFO1FBQ2xCRCxJQUFJLENBQUN6QixRQUFRMEIsTUFBTSxDQUFDLEdBQUcxQixRQUFRMkIsYUFBYSxLQUFLLFNBQVMsQ0FBQyxJQUFJO0lBQ2pFLE9BQU87UUFDTEYsS0FBSy9DLFNBQVMsR0FBRyxDQUFDLEdBQUcseUJBQXlCO0lBQ2hEO0lBRUEsTUFBTWIsVUFBVSxNQUFNRCxXQUNuQkUsSUFBSSxDQUFDSCxRQUNMOEQsSUFBSSxDQUFDQSxNQUNMRyxLQUFLLENBQUM1QixRQUFRNEIsS0FBSyxJQUFJLEtBQ3ZCN0QsT0FBTztJQUVWLE9BQU9GLFFBQVFHLEdBQUcsQ0FBQ0M7QUFDckI7QUFFQTs7OztDQUlDLEdBQ0QsU0FBU0EsZUFBZTRELEdBQUc7SUFDekIsT0FBTztRQUNMMUQsSUFBSTBELElBQUl2RCxHQUFHLENBQUNZLFFBQVE7UUFDcEIsR0FBRzJDLEdBQUc7UUFDTnZELEtBQUt3RDtJQUNQO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xcbGliXFxyZXBvc2l0b3JpZXNcXHByb21wdFJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gJy4uL21vbmdvZGInO1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgQ09MTEVDVElPTl9OQU1FID0gJ3Byb21wdHMnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgcHJvbXB0cyB3aXRoIG9wdGlvbmFsIGZpbHRlcmluZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZmlsdGVyIC0gT3B0aW9uYWwgZmlsdGVyIGNyaXRlcmlhXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQXJyYXkgb2YgcHJvbXB0c1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFByb21wdHMoZmlsdGVyID0ge30pIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHByb21wdHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoZmlsdGVyKS50b0FycmF5KCk7XHJcbiAgcmV0dXJuIHByb21wdHMubWFwKG1hcE1vbmdvUHJvbXB0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhIHNpbmdsZSBwcm9tcHQgYnkgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gUHJvbXB0IElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gUHJvbXB0IG9iamVjdCBvciBudWxsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvbXB0QnlJZChpZCkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgY29uc3QgcHJvbXB0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiBwcm9tcHQgPyBtYXBNb25nb1Byb21wdChwcm9tcHQpIDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBwcm9tcHRcclxuICogQHBhcmFtIHtPYmplY3R9IHByb21wdERhdGEgLSBQcm9tcHQgZGF0YVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIHByb21wdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb21wdChwcm9tcHREYXRhKSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBcclxuICBjb25zdCBuZXdQcm9tcHQgPSB7XHJcbiAgICAuLi5wcm9tcHREYXRhLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXNhZ2VDb3VudDogMCxcclxuICAgIHJhdGluZzogcHJvbXB0RGF0YS5yYXRpbmcgfHwgMFxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUobmV3UHJvbXB0KTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHJlc3VsdC5pbnNlcnRlZElkLnRvU3RyaW5nKCksXHJcbiAgICAuLi5uZXdQcm9tcHRcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIGFuIGV4aXN0aW5nIHByb21wdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQcm9tcHQgSURcclxuICogQHBhcmFtIHtPYmplY3R9IHByb21wdERhdGEgLSBVcGRhdGVkIHByb21wdCBkYXRhXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVXBkYXRlZCBwcm9tcHQgb3IgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb21wdChpZCwgcHJvbXB0RGF0YSkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgXHJcbiAgY29uc3QgdXBkYXRlZFByb21wdCA9IHtcclxuICAgIC4uLnByb21wdERhdGEsXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICB9O1xyXG4gIFxyXG4gIC8vIERvbid0IG92ZXJyaWRlIHRoZXNlIGZpZWxkcyBpZiBub3QgZXhwbGljaXRseSBwcm92aWRlZFxyXG4gIGRlbGV0ZSB1cGRhdGVkUHJvbXB0Ll9pZDtcclxuICBkZWxldGUgdXBkYXRlZFByb21wdC5pZDtcclxuICBkZWxldGUgdXBkYXRlZFByb21wdC5jcmVhdGVkQXQ7XHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgfSxcclxuICAgIHsgJHNldDogdXBkYXRlZFByb21wdCB9LFxyXG4gICAgeyByZXR1cm5Eb2N1bWVudDogJ2FmdGVyJyB9XHJcbiAgKTtcclxuICBcclxuICByZXR1cm4gcmVzdWx0LnZhbHVlID8gbWFwTW9uZ29Qcm9tcHQocmVzdWx0LnZhbHVlKSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSBwcm9tcHRcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gUHJvbXB0IElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBTdWNjZXNzIGZsYWdcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9tcHQoaWQpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiByZXN1bHQuZGVsZXRlZENvdW50ID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogSW5jcmVtZW50IHByb21wdCB1c2FnZSBjb3VudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQcm9tcHQgSURcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBVcGRhdGVkIHByb21wdCBvciBudWxsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50VXNhZ2VDb3VudChpZCkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgfSxcclxuICAgIHsgJGluYzogeyB1c2FnZUNvdW50OiAxIH0gfSxcclxuICAgIHsgcmV0dXJuRG9jdW1lbnQ6ICdhZnRlcicgfVxyXG4gICk7XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdC52YWx1ZSA/IG1hcE1vbmdvUHJvbXB0KHJlc3VsdC52YWx1ZSkgOiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogU2VhcmNoIHByb21wdHMgd2l0aCBhZHZhbmNlZCBmaWx0ZXJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IC0gU2VhcmNoIHRleHRcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTZWFyY2ggb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IEFycmF5IG9mIG1hdGNoaW5nIHByb21wdHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hQcm9tcHRzKHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIFxyXG4gIC8vIEJ1aWxkIE1vbmdvREIgcXVlcnlcclxuICBjb25zdCBmaWx0ZXIgPSB7fTtcclxuICBcclxuICAvLyBUZXh0IHNlYXJjaCBpZiBxdWVyeSBwcm92aWRlZFxyXG4gIGlmIChxdWVyeSAmJiBxdWVyeS50cmltKCkgIT09ICcnKSB7XHJcbiAgICBmaWx0ZXIuJG9yID0gW1xyXG4gICAgICB7IHRpdGxlOiB7ICRyZWdleDogcXVlcnksICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICB7IGNvbnRlbnQ6IHsgJHJlZ2V4OiBxdWVyeSwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgIHsgZGVzY3JpcHRpb246IHsgJHJlZ2V4OiBxdWVyeSwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgIHsgdGFnczogeyAkaW46IFtxdWVyeV0gfSB9XHJcbiAgICBdO1xyXG4gIH1cclxuICBcclxuICAvLyBBcHBseSBmaWx0ZXJzXHJcbiAgaWYgKG9wdGlvbnMudXNlcklkKSB7XHJcbiAgICBmaWx0ZXIudXNlcklkID0gb3B0aW9ucy51c2VySWQ7XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLnRlYW1JZCkge1xyXG4gICAgZmlsdGVyLiRvciA9IGZpbHRlci4kb3IgfHwgW107XHJcbiAgICBmaWx0ZXIuJG9yLnB1c2goXHJcbiAgICAgIHsgdGVhbUlkOiBvcHRpb25zLnRlYW1JZCB9LFxyXG4gICAgICB7IHZpc2liaWxpdHk6ICd0ZWFtJywgdGVhbUlkOiBvcHRpb25zLnRlYW1JZCB9XHJcbiAgICApO1xyXG4gIH1cclxuICBcclxuICBpZiAob3B0aW9ucy52aXNpYmlsaXR5KSB7XHJcbiAgICBmaWx0ZXIudmlzaWJpbGl0eSA9IG9wdGlvbnMudmlzaWJpbGl0eTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9wdGlvbnMuYWlQbGF0Zm9ybSkge1xyXG4gICAgZmlsdGVyLmFpUGxhdGZvcm0gPSBvcHRpb25zLmFpUGxhdGZvcm07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLm1pblJhdGluZykge1xyXG4gICAgZmlsdGVyLnJhdGluZyA9IHsgJGd0ZTogcGFyc2VGbG9hdChvcHRpb25zLm1pblJhdGluZykgfTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9wdGlvbnMubWluVXNhZ2VDb3VudCkge1xyXG4gICAgZmlsdGVyLnVzYWdlQ291bnQgPSB7ICRndGU6IHBhcnNlSW50KG9wdGlvbnMubWluVXNhZ2VDb3VudCwgMTApIH07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLnRhZ3MgJiYgb3B0aW9ucy50YWdzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHRhZ3MgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMudGFncykgPyBvcHRpb25zLnRhZ3MgOiBbb3B0aW9ucy50YWdzXTtcclxuICAgIFxyXG4gICAgaWYgKG9wdGlvbnMudGFnTWF0Y2hUeXBlID09PSAnYW55Jykge1xyXG4gICAgICBmaWx0ZXIudGFncyA9IHsgJGluOiB0YWdzIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWx0ZXIudGFncyA9IHsgJGFsbDogdGFncyB9O1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBTb3J0IG9wdGlvbnNcclxuICBjb25zdCBzb3J0ID0ge307XHJcbiAgaWYgKG9wdGlvbnMuc29ydEJ5KSB7XHJcbiAgICBzb3J0W29wdGlvbnMuc29ydEJ5XSA9IG9wdGlvbnMuc29ydERpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3J0LmNyZWF0ZWRBdCA9IC0xOyAvLyBEZWZhdWx0IHNvcnQgYnkgbmV3ZXN0XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IHByb21wdHMgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAuZmluZChmaWx0ZXIpXHJcbiAgICAuc29ydChzb3J0KVxyXG4gICAgLmxpbWl0KG9wdGlvbnMubGltaXQgfHwgMTAwKVxyXG4gICAgLnRvQXJyYXkoKTtcclxuICBcclxuICByZXR1cm4gcHJvbXB0cy5tYXAobWFwTW9uZ29Qcm9tcHQpO1xyXG59XHJcblxyXG4vKipcclxuICogTWFwIE1vbmdvREIgZG9jdW1lbnQgdG8gYXBwIG1vZGVsIChoYW5kbGluZyBfaWQgY29udmVyc2lvbilcclxuICogQHBhcmFtIHtPYmplY3R9IGRvYyAtIE1vbmdvREIgZG9jdW1lbnRcclxuICogQHJldHVybnMge09iamVjdH0gTWFwcGVkIHByb21wdCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcE1vbmdvUHJvbXB0KGRvYykge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZG9jLl9pZC50b1N0cmluZygpLFxyXG4gICAgLi4uZG9jLFxyXG4gICAgX2lkOiB1bmRlZmluZWRcclxuICB9O1xyXG59ICJdLCJuYW1lcyI6WyJnZXRDb2xsZWN0aW9uIiwiT2JqZWN0SWQiLCJDT0xMRUNUSU9OX05BTUUiLCJnZXRBbGxQcm9tcHRzIiwiZmlsdGVyIiwiY29sbGVjdGlvbiIsInByb21wdHMiLCJmaW5kIiwidG9BcnJheSIsIm1hcCIsIm1hcE1vbmdvUHJvbXB0IiwiZ2V0UHJvbXB0QnlJZCIsImlkIiwicHJvbXB0IiwiZmluZE9uZSIsIl9pZCIsImNyZWF0ZVByb21wdCIsInByb21wdERhdGEiLCJuZXdQcm9tcHQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwidXNhZ2VDb3VudCIsInJhdGluZyIsInJlc3VsdCIsImluc2VydE9uZSIsImluc2VydGVkSWQiLCJ0b1N0cmluZyIsInVwZGF0ZVByb21wdCIsInVwZGF0ZWRQcm9tcHQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJHNldCIsInJldHVybkRvY3VtZW50IiwidmFsdWUiLCJkZWxldGVQcm9tcHQiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJpbmNyZW1lbnRVc2FnZUNvdW50IiwiJGluYyIsInNlYXJjaFByb21wdHMiLCJxdWVyeSIsIm9wdGlvbnMiLCJ0cmltIiwiJG9yIiwidGl0bGUiLCIkcmVnZXgiLCIkb3B0aW9ucyIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCIkaW4iLCJ1c2VySWQiLCJ0ZWFtSWQiLCJwdXNoIiwidmlzaWJpbGl0eSIsImFpUGxhdGZvcm0iLCJtaW5SYXRpbmciLCIkZ3RlIiwicGFyc2VGbG9hdCIsIm1pblVzYWdlQ291bnQiLCJwYXJzZUludCIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsInRhZ01hdGNoVHlwZSIsIiRhbGwiLCJzb3J0Iiwic29ydEJ5Iiwic29ydERpcmVjdGlvbiIsImxpbWl0IiwiZG9jIiwidW5kZWZpbmVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/repositories/promptRepository.js\n");

/***/ }),

/***/ "(api-node)/./models/prompt.js":
/*!**************************!*\
  !*** ./models/prompt.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   promptModel: () => (/* binding */ promptModel),\n/* harmony export */   validatePrompt: () => (/* binding */ validatePrompt)\n/* harmony export */ });\n// Prompt model structure\nconst promptModel = {\n    id: Number,\n    title: String,\n    content: String,\n    description: String,\n    tags: Array,\n    aiPlatform: String,\n    rating: Number,\n    usageCount: Number,\n    successRate: Number,\n    visibility: String,\n    userId: Number,\n    createdBy: String,\n    teamId: Number,\n    createdAt: String,\n    updatedAt: String\n};\n// Validate prompt data\nconst validatePrompt = (data)=>{\n    const errors = {};\n    // Required fields\n    if (!data.title) {\n        errors.title = 'Title is required';\n    } else if (data.title.length < 3) {\n        errors.title = 'Title must be at least 3 characters';\n    } else if (data.title.length > 100) {\n        errors.title = 'Title must be less than 100 characters';\n    }\n    if (!data.content) {\n        errors.content = 'Content is required';\n    } else if (data.content.length < 10) {\n        errors.content = 'Content must be at least 10 characters';\n    }\n    // Optional description\n    if (data.description && data.description.length > 500) {\n        errors.description = 'Description must be less than 500 characters';\n    }\n    // Tags validation\n    if (data.tags) {\n        if (!Array.isArray(data.tags)) {\n            errors.tags = 'Tags must be an array';\n        } else {\n            for(let i = 0; i < data.tags.length; i++){\n                const tag = data.tags[i];\n                if (typeof tag !== 'string') {\n                    errors.tags = 'All tags must be strings';\n                    break;\n                }\n                if (tag.length < 1) {\n                    errors.tags = 'Tags cannot be empty';\n                    break;\n                }\n                if (tag.length > 20) {\n                    errors.tags = 'Tags must be less than 20 characters';\n                    break;\n                }\n            }\n        }\n    }\n    // AI Platform validation\n    if (data.aiPlatform && typeof data.aiPlatform !== 'string') {\n        errors.aiPlatform = 'AI Platform must be a string';\n    }\n    // Rating validation (1-5)\n    if (data.rating !== undefined) {\n        if (typeof data.rating !== 'number') {\n            errors.rating = 'Rating must be a number';\n        } else if (data.rating < 1 || data.rating > 5) {\n            errors.rating = 'Rating must be between 1 and 5';\n        }\n    }\n    // Usage count validation\n    if (data.usageCount !== undefined && (typeof data.usageCount !== 'number' || data.usageCount < 0)) {\n        errors.usageCount = 'Usage count must be a non-negative number';\n    }\n    // Success rate validation (0-100)\n    if (data.successRate !== undefined) {\n        if (typeof data.successRate !== 'number') {\n            errors.successRate = 'Success rate must be a number';\n        } else if (data.successRate < 0 || data.successRate > 100) {\n            errors.successRate = 'Success rate must be between 0 and 100';\n        }\n    }\n    // Visibility validation\n    if (data.visibility) {\n        const validVisibilities = [\n            'public',\n            'private',\n            'team'\n        ];\n        if (!validVisibilities.includes(data.visibility)) {\n            errors.visibility = 'Visibility must be one of: public, private, team';\n        }\n        // If visibility is 'team', teamId must be provided\n        if (data.visibility === 'team' && !data.teamId) {\n            errors.teamId = 'Team ID is required when visibility is set to team';\n        }\n    }\n    return {\n        isValid: Object.keys(errors).length === 0,\n        errors\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZCLE9BQU8sSUFBSVEsS0FBS1IsV0FBVyxHQUFHLEtBQUtRLEtBQUtSLFdBQVcsR0FBRyxLQUFLO1lBQ3pEUyxPQUFPVCxXQUFXLEdBQUc7UUFDdkI7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixJQUFJUSxLQUFLUCxVQUFVLEVBQUU7UUFDbkIsTUFBTWMsb0JBQW9CO1lBQUM7WUFBVTtZQUFXO1NBQU87UUFDdkQsSUFBSSxDQUFDQSxrQkFBa0JDLFFBQVEsQ0FBQ1IsS0FBS1AsVUFBVSxHQUFHO1lBQ2hEUSxPQUFPUixVQUFVLEdBQUc7UUFDdEI7UUFFQSxtREFBbUQ7UUFDbkQsSUFBSU8sS0FBS1AsVUFBVSxLQUFLLFVBQVUsQ0FBQ08sS0FBS0osTUFBTSxFQUFFO1lBQzlDSyxPQUFPTCxNQUFNLEdBQUc7UUFDbEI7SUFDRjtJQUVBLE9BQU87UUFDTGEsU0FBU0MsT0FBT0MsSUFBSSxDQUFDVixRQUFRQyxNQUFNLEtBQUs7UUFDeENEO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGJhdWRpXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvbXB0UHJvXFxQcm9tcHRQcm9cXG1vZGVsc1xccHJvbXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFByb21wdCBtb2RlbCBzdHJ1Y3R1cmVcbmV4cG9ydCBjb25zdCBwcm9tcHRNb2RlbCA9IHtcbiAgaWQ6IE51bWJlcixcbiAgdGl0bGU6IFN0cmluZyxcbiAgY29udGVudDogU3RyaW5nLFxuICBkZXNjcmlwdGlvbjogU3RyaW5nLCAvLyBCcmllZiBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSBwcm9tcHQgZG9lc1xuICB0YWdzOiBBcnJheSwgLy8gb2Ygc3RyaW5nc1xuICBhaVBsYXRmb3JtOiBTdHJpbmcsIC8vIGUuZy4sICdDaGF0R1BUJywgJ0NsYXVkZScsICdNaWRKb3VybmV5JywgJ0RBTEwtRScsIGV0Yy5cbiAgcmF0aW5nOiBOdW1iZXIsIC8vIDEtNSByYXRpbmdcbiAgdXNhZ2VDb3VudDogTnVtYmVyLCAvLyBIb3cgbWFueSB0aW1lcyB0aGUgcHJvbXB0IGhhcyBiZWVuIHVzZWRcbiAgc3VjY2Vzc1JhdGU6IE51bWJlciwgLy8gUGVyY2VudGFnZSBvZiBzdWNjZXNzZnVsIHVzZXMgKDAtMTAwKVxuICB2aXNpYmlsaXR5OiBTdHJpbmcsIC8vICdwdWJsaWMnLCAncHJpdmF0ZScsICd0ZWFtJ1xuICB1c2VySWQ6IE51bWJlciwgLy8gSUQgb2YgdGhlIHVzZXIgd2hvIGNyZWF0ZWQgdGhlIHByb21wdFxuICBjcmVhdGVkQnk6IFN0cmluZywgLy8gTmFtZSBvZiB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGUgcHJvbXB0XG4gIHRlYW1JZDogTnVtYmVyLCAvLyBJRCBvZiB0aGUgdGVhbSBpZiBzaGFyZWQgd2l0aCBhIHRlYW0gKG9wdGlvbmFsKVxuICBjcmVhdGVkQXQ6IFN0cmluZywgLy8gSVNPIGRhdGUgc3RyaW5nXG4gIHVwZGF0ZWRBdDogU3RyaW5nLCAvLyBJU08gZGF0ZSBzdHJpbmdcbn07XG5cbi8vIFZhbGlkYXRlIHByb21wdCBkYXRhXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQcm9tcHQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBlcnJvcnMgPSB7fTtcbiAgXG4gIC8vIFJlcXVpcmVkIGZpZWxkc1xuICBpZiAoIWRhdGEudGl0bGUpIHtcbiAgICBlcnJvcnMudGl0bGUgPSAnVGl0bGUgaXMgcmVxdWlyZWQnO1xuICB9IGVsc2UgaWYgKGRhdGEudGl0bGUubGVuZ3RoIDwgMykge1xuICAgIGVycm9ycy50aXRsZSA9ICdUaXRsZSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyc7XG4gIH0gZWxzZSBpZiAoZGF0YS50aXRsZS5sZW5ndGggPiAxMDApIHtcbiAgICBlcnJvcnMudGl0bGUgPSAnVGl0bGUgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnO1xuICB9XG4gIFxuICBpZiAoIWRhdGEuY29udGVudCkge1xuICAgIGVycm9ycy5jb250ZW50ID0gJ0NvbnRlbnQgaXMgcmVxdWlyZWQnO1xuICB9IGVsc2UgaWYgKGRhdGEuY29udGVudC5sZW5ndGggPCAxMCkge1xuICAgIGVycm9ycy5jb250ZW50ID0gJ0NvbnRlbnQgbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzJztcbiAgfVxuICBcbiAgLy8gT3B0aW9uYWwgZGVzY3JpcHRpb25cbiAgaWYgKGRhdGEuZGVzY3JpcHRpb24gJiYgZGF0YS5kZXNjcmlwdGlvbi5sZW5ndGggPiA1MDApIHtcbiAgICBlcnJvcnMuZGVzY3JpcHRpb24gPSAnRGVzY3JpcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gNTAwIGNoYXJhY3RlcnMnO1xuICB9XG4gIFxuICAvLyBUYWdzIHZhbGlkYXRpb25cbiAgaWYgKGRhdGEudGFncykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhLnRhZ3MpKSB7XG4gICAgICBlcnJvcnMudGFncyA9ICdUYWdzIG11c3QgYmUgYW4gYXJyYXknO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEudGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0YWcgPSBkYXRhLnRhZ3NbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdGFnICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVycm9ycy50YWdzID0gJ0FsbCB0YWdzIG11c3QgYmUgc3RyaW5ncyc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgZXJyb3JzLnRhZ3MgPSAnVGFncyBjYW5ub3QgYmUgZW1wdHknO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcubGVuZ3RoID4gMjApIHtcbiAgICAgICAgICBlcnJvcnMudGFncyA9ICdUYWdzIG11c3QgYmUgbGVzcyB0aGFuIDIwIGNoYXJhY3RlcnMnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvLyBBSSBQbGF0Zm9ybSB2YWxpZGF0aW9uXG4gIGlmIChkYXRhLmFpUGxhdGZvcm0gJiYgdHlwZW9mIGRhdGEuYWlQbGF0Zm9ybSAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnJvcnMuYWlQbGF0Zm9ybSA9ICdBSSBQbGF0Zm9ybSBtdXN0IGJlIGEgc3RyaW5nJztcbiAgfVxuICBcbiAgLy8gUmF0aW5nIHZhbGlkYXRpb24gKDEtNSlcbiAgaWYgKGRhdGEucmF0aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEucmF0aW5nICE9PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3JzLnJhdGluZyA9ICdSYXRpbmcgbXVzdCBiZSBhIG51bWJlcic7XG4gICAgfSBlbHNlIGlmIChkYXRhLnJhdGluZyA8IDEgfHwgZGF0YS5yYXRpbmcgPiA1KSB7XG4gICAgICBlcnJvcnMucmF0aW5nID0gJ1JhdGluZyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNSc7XG4gICAgfVxuICB9XG4gIFxuICAvLyBVc2FnZSBjb3VudCB2YWxpZGF0aW9uXG4gIGlmIChkYXRhLnVzYWdlQ291bnQgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIGRhdGEudXNhZ2VDb3VudCAhPT0gJ251bWJlcicgfHwgZGF0YS51c2FnZUNvdW50IDwgMCkpIHtcbiAgICBlcnJvcnMudXNhZ2VDb3VudCA9ICdVc2FnZSBjb3VudCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcic7XG4gIH1cbiAgXG4gIC8vIFN1Y2Nlc3MgcmF0ZSB2YWxpZGF0aW9uICgwLTEwMClcbiAgaWYgKGRhdGEuc3VjY2Vzc1JhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZGF0YS5zdWNjZXNzUmF0ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGVycm9ycy5zdWNjZXNzUmF0ZSA9ICdTdWNjZXNzIHJhdGUgbXVzdCBiZSBhIG51bWJlcic7XG4gICAgfSBlbHNlIGlmIChkYXRhLnN1Y2Nlc3NSYXRlIDwgMCB8fCBkYXRhLnN1Y2Nlc3NSYXRlID4gMTAwKSB7XG4gICAgICBlcnJvcnMuc3VjY2Vzc1JhdGUgPSAnU3VjY2VzcyByYXRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAnO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gVmlzaWJpbGl0eSB2YWxpZGF0aW9uXG4gIGlmIChkYXRhLnZpc2liaWxpdHkpIHtcbiAgICBjb25zdCB2YWxpZFZpc2liaWxpdGllcyA9IFsncHVibGljJywgJ3ByaXZhdGUnLCAndGVhbSddO1xuICAgIGlmICghdmFsaWRWaXNpYmlsaXRpZXMuaW5jbHVkZXMoZGF0YS52aXNpYmlsaXR5KSkge1xuICAgICAgZXJyb3JzLnZpc2liaWxpdHkgPSAnVmlzaWJpbGl0eSBtdXN0IGJlIG9uZSBvZjogcHVibGljLCBwcml2YXRlLCB0ZWFtJztcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdmlzaWJpbGl0eSBpcyAndGVhbScsIHRlYW1JZCBtdXN0IGJlIHByb3ZpZGVkXG4gICAgaWYgKGRhdGEudmlzaWJpbGl0eSA9PT0gJ3RlYW0nICYmICFkYXRhLnRlYW1JZCkge1xuICAgICAgZXJyb3JzLnRlYW1JZCA9ICdUZWFtIElEIGlzIHJlcXVpcmVkIHdoZW4gdmlzaWJpbGl0eSBpcyBzZXQgdG8gdGVhbSc7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID09PSAwLFxuICAgIGVycm9yc1xuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJwcm9tcHRNb2RlbCIsImlkIiwiTnVtYmVyIiwidGl0bGUiLCJTdHJpbmciLCJjb250ZW50IiwiZGVzY3JpcHRpb24iLCJ0YWdzIiwiQXJyYXkiLCJhaVBsYXRmb3JtIiwicmF0aW5nIiwidXNhZ2VDb3VudCIsInN1Y2Nlc3NSYXRlIiwidmlzaWJpbGl0eSIsInVzZXJJZCIsImNyZWF0ZWRCeSIsInRlYW1JZCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInZhbGlkYXRlUHJvbXB0IiwiZGF0YSIsImVycm9ycyIsImxlbmd0aCIsImlzQXJyYXkiLCJpIiwidGFnIiwidW5kZWZpbmVkIiwidmFsaWRWaXNpYmlsaXRpZXMiLCJpbmNsdWRlcyIsImlzVmFsaWQiLCJPYmplY3QiLCJrZXlzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./models/prompt.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\prompts\\index.js */ \"(api-node)/./pages/api/prompts/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/prompts\",\n        pathname: \"/api/prompts\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHJvbXB0cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDcHJvbXB0cyU1Q2luZGV4LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccHJvbXB0c1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvbXB0c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb21wdHNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/prompts/index.js":
/*!************************************!*\
  !*** ./pages/api/prompts/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _models_prompt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../models/prompt */ \"(api-node)/./models/prompt.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/auth */ \"(api-node)/./lib/auth.js\");\n/* harmony import */ var _lib_repositories_promptRepository__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/repositories/promptRepository */ \"(api-node)/./lib/repositories/promptRepository.js\");\n\n\n\nasync function handler(req, res) {\n    // Set cache control headers to prevent caching\n    res.setHeader('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate');\n    res.setHeader('Pragma', 'no-cache');\n    res.setHeader('Expires', '0');\n    switch(req.method){\n        case 'GET':\n            return getPrompts(req, res);\n        case 'POST':\n            return addPrompt(req, res);\n        default:\n            return res.status(405).json({\n                message: 'Method not allowed'\n            });\n    }\n}\n// Apply authentication to POST method\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.withAuthForMethods)(handler, [\n    'POST'\n]));\nasync function getPrompts(req, res) {\n    try {\n        // Get query parameters for filtering\n        const { userId, visibility, aiPlatform, tags } = req.query;\n        // Create filter object\n        const filter = {};\n        if (userId) filter.userId = userId;\n        if (visibility) filter.visibility = visibility;\n        if (aiPlatform) filter.aiPlatform = aiPlatform;\n        // Parse tags if provided\n        if (tags) {\n            filter.tags = Array.isArray(tags) ? tags : [\n                tags\n            ];\n        }\n        // Get prompts from repository\n        const prompts = await _lib_repositories_promptRepository__WEBPACK_IMPORTED_MODULE_2__.getAllPrompts(filter);\n        return res.status(200).json(prompts);\n    } catch (error) {\n        console.error('Error getting prompts:', error);\n        return res.status(500).json({\n            message: 'Internal server error'\n        });\n    }\n}\nasync function addPrompt(req, res) {\n    try {\n        const promptData = req.body;\n        // Add user info from session - checking all possible locations\n        const userId = req.session?.user?.id || req.user?.id || req.session?.sub;\n        const userName = req.session?.user?.name || req.user?.name || 'Unknown User';\n        console.log('Creating prompt with user ID:', userId);\n        console.log('Session data:', req.session);\n        console.log('User data:', req.user);\n        if (!userId) {\n            return res.status(401).json({\n                message: 'Authentication required'\n            });\n        }\n        // Validate prompt data\n        const { isValid, errors } = (0,_models_prompt__WEBPACK_IMPORTED_MODULE_0__.validatePrompt)(promptData);\n        if (!isValid) {\n            return res.status(400).json({\n                message: 'Validation failed',\n                errors\n            });\n        }\n        // Create new prompt with userId explicitly set\n        const newPrompt = await _lib_repositories_promptRepository__WEBPACK_IMPORTED_MODULE_2__.createPrompt({\n            ...promptData,\n            userId,\n            createdBy: userName\n        });\n        console.log('Successfully created prompt:', newPrompt);\n        return res.status(201).json(newPrompt);\n    } catch (error) {\n        console.error('Error creating prompt:', error);\n        return res.status(500).json({\n            message: 'Internal server error'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBZ0NHO1FBRTVDLE9BQU8vQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDeUI7SUFDOUIsRUFBRSxPQUFPYixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9sQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBd0I7SUFDakU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiYXVkaVxcT25lRHJpdmVcXERlc2t0b3BcXFByb21wdFByb1xcUHJvbXB0UHJvXFxwYWdlc1xcYXBpXFxwcm9tcHRzXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2YWxpZGF0ZVByb21wdCB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9wcm9tcHQnO1xuaW1wb3J0IHsgd2l0aEF1dGhGb3JNZXRob2RzIH0gZnJvbSAnLi4vLi4vLi4vbGliL2F1dGgnO1xuaW1wb3J0ICogYXMgcHJvbXB0UmVwb3NpdG9yeSBmcm9tICcuLi8uLi8uLi9saWIvcmVwb3NpdG9yaWVzL3Byb21wdFJlcG9zaXRvcnknO1xuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vIFNldCBjYWNoZSBjb250cm9sIGhlYWRlcnMgdG8gcHJldmVudCBjYWNoaW5nXG4gIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUsIG5vLWNhY2hlLCBtdXN0LXJldmFsaWRhdGUsIHByb3h5LXJldmFsaWRhdGUnKTtcbiAgcmVzLnNldEhlYWRlcignUHJhZ21hJywgJ25vLWNhY2hlJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0V4cGlyZXMnLCAnMCcpO1xuXG4gIHN3aXRjaCAocmVxLm1ldGhvZCkge1xuICAgIGNhc2UgJ0dFVCc6XG4gICAgICByZXR1cm4gZ2V0UHJvbXB0cyhyZXEsIHJlcyk7XG4gICAgY2FzZSAnUE9TVCc6XG4gICAgICByZXR1cm4gYWRkUHJvbXB0KHJlcSwgcmVzKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cbn1cblxuLy8gQXBwbHkgYXV0aGVudGljYXRpb24gdG8gUE9TVCBtZXRob2RcbmV4cG9ydCBkZWZhdWx0IHdpdGhBdXRoRm9yTWV0aG9kcyhoYW5kbGVyLCBbJ1BPU1QnXSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFByb21wdHMocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgcXVlcnkgcGFyYW1ldGVycyBmb3IgZmlsdGVyaW5nXG4gICAgY29uc3QgeyB1c2VySWQsIHZpc2liaWxpdHksIGFpUGxhdGZvcm0sIHRhZ3MgfSA9IHJlcS5xdWVyeTtcbiAgICBcbiAgICAvLyBDcmVhdGUgZmlsdGVyIG9iamVjdFxuICAgIGNvbnN0IGZpbHRlciA9IHt9O1xuICAgIFxuICAgIGlmICh1c2VySWQpIGZpbHRlci51c2VySWQgPSB1c2VySWQ7XG4gICAgaWYgKHZpc2liaWxpdHkpIGZpbHRlci52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICBpZiAoYWlQbGF0Zm9ybSkgZmlsdGVyLmFpUGxhdGZvcm0gPSBhaVBsYXRmb3JtO1xuICAgIFxuICAgIC8vIFBhcnNlIHRhZ3MgaWYgcHJvdmlkZWRcbiAgICBpZiAodGFncykge1xuICAgICAgZmlsdGVyLnRhZ3MgPSBBcnJheS5pc0FycmF5KHRhZ3MpID8gdGFncyA6IFt0YWdzXTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHByb21wdHMgZnJvbSByZXBvc2l0b3J5XG4gICAgY29uc3QgcHJvbXB0cyA9IGF3YWl0IHByb21wdFJlcG9zaXRvcnkuZ2V0QWxsUHJvbXB0cyhmaWx0ZXIpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9tcHRzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHByb21wdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZFByb21wdChyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IHByb21wdERhdGEgPSByZXEuYm9keTtcbiAgICBcbiAgICAvLyBBZGQgdXNlciBpbmZvIGZyb20gc2Vzc2lvbiAtIGNoZWNraW5nIGFsbCBwb3NzaWJsZSBsb2NhdGlvbnNcbiAgICBjb25zdCB1c2VySWQgPSByZXEuc2Vzc2lvbj8udXNlcj8uaWQgfHwgcmVxLnVzZXI/LmlkIHx8IHJlcS5zZXNzaW9uPy5zdWI7XG4gICAgY29uc3QgdXNlck5hbWUgPSByZXEuc2Vzc2lvbj8udXNlcj8ubmFtZSB8fCByZXEudXNlcj8ubmFtZSB8fCAnVW5rbm93biBVc2VyJztcbiAgICBcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgcHJvbXB0IHdpdGggdXNlciBJRDonLCB1c2VySWQpO1xuICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGRhdGE6JywgcmVxLnNlc3Npb24pO1xuICAgIGNvbnNvbGUubG9nKCdVc2VyIGRhdGE6JywgcmVxLnVzZXIpO1xuICAgIFxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBwcm9tcHQgZGF0YVxuICAgIGNvbnN0IHsgaXNWYWxpZCwgZXJyb3JzIH0gPSB2YWxpZGF0ZVByb21wdChwcm9tcHREYXRhKTtcbiAgICBcbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsIGVycm9ycyB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIG5ldyBwcm9tcHQgd2l0aCB1c2VySWQgZXhwbGljaXRseSBzZXRcbiAgICBjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCBwcm9tcHRSZXBvc2l0b3J5LmNyZWF0ZVByb21wdCh7XG4gICAgICAuLi5wcm9tcHREYXRhLFxuICAgICAgdXNlcklkLFxuICAgICAgY3JlYXRlZEJ5OiB1c2VyTmFtZVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgY3JlYXRlZCBwcm9tcHQ6JywgbmV3UHJvbXB0KTtcbiAgICBcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24obmV3UHJvbXB0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcm9tcHQ6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsidmFsaWRhdGVQcm9tcHQiLCJ3aXRoQXV0aEZvck1ldGhvZHMiLCJwcm9tcHRSZXBvc2l0b3J5IiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsIm1ldGhvZCIsImdldFByb21wdHMiLCJhZGRQcm9tcHQiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInVzZXJJZCIsInZpc2liaWxpdHkiLCJhaVBsYXRmb3JtIiwidGFncyIsInF1ZXJ5IiwiZmlsdGVyIiwiQXJyYXkiLCJpc0FycmF5IiwicHJvbXB0cyIsImdldEFsbFByb21wdHMiLCJlcnJvciIsImNvbnNvbGUiLCJwcm9tcHREYXRhIiwiYm9keSIsInNlc3Npb24iLCJ1c2VyIiwiaWQiLCJzdWIiLCJ1c2VyTmFtZSIsIm5hbWUiLCJsb2ciLCJpc1ZhbGlkIiwiZXJyb3JzIiwibmV3UHJvbXB0IiwiY3JlYXRlUHJvbXB0IiwiY3JlYXRlZEJ5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/prompts/index.js\n");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();