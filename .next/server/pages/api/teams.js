"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/teams";
exports.ids = ["pages/api/teams"];
exports.modules = {

/***/ "(api-node)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthSession: () => (/* binding */ getAuthSession),\n/* harmony export */   withAuth: () => (/* binding */ withAuth),\n/* harmony export */   withAuthForMethods: () => (/* binding */ withAuthForMethods)\n/* harmony export */ });\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Check if the request is authenticated\n * @param {Object} req - The request object\n * @returns {Promise<Object|null>} - The user session or null if not authenticated\n */ async function getAuthSession(req) {\n    return await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n        req,\n        secret: process.env.NEXTAUTH_SECRET\n    });\n}\n/**\n * Higher-order function that creates an API handler that requires authentication\n * @param {Function} handler - The API handler to protect\n * @returns {Function} - The protected API handler\n */ function withAuth(handler) {\n    return async (req, res)=>{\n        const session = await getAuthSession(req);\n        if (!session) {\n            return res.status(401).json({\n                error: \"Unauthorized\"\n            });\n        }\n        // Add the session to the request object\n        req.session = session;\n        // Also add a user property for compatibility\n        req.user = {\n            id: session.sub || session.id,\n            name: session.name,\n            email: session.email\n        };\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n/**\n * Higher-order function that optionally requires authentication for certain methods\n * @param {Function} handler - The API handler \n * @param {Array} protectedMethods - HTTP methods that require authentication (e.g., ['POST', 'PUT', 'DELETE'])\n * @returns {Function} - The conditionally protected API handler\n */ function withAuthForMethods(handler, protectedMethods = [\n    'POST',\n    'PUT',\n    'DELETE'\n]) {\n    return async (req, res)=>{\n        // Check if the current method requires authentication\n        if (protectedMethods.includes(req.method)) {\n            const session = await getAuthSession(req);\n            if (!session) {\n                return res.status(401).json({\n                    error: \"Unauthorized\"\n                });\n            }\n            // Add the session to the request object\n            req.session = session;\n            // Also add a user property for compatibility\n            req.user = {\n                id: session.sub || session.id,\n                name: session.name,\n                email: session.email\n            };\n        }\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlDO0FBRXpDOzs7O0NBSUMsR0FDTSxlQUFlQyxlQUFlQyxHQUFHO0lBQ3RDLE9BQU8sTUFBTUYsdURBQVFBLENBQUM7UUFBRUU7UUFBS0MsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0lBQUM7QUFDbkU7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0MsU0FBU0MsT0FBTztJQUM5QixPQUFPLE9BQU9OLEtBQUtPO1FBQ2pCLE1BQU1DLFVBQVUsTUFBTVQsZUFBZUM7UUFFckMsSUFBSSxDQUFDUSxTQUFTO1lBQ1osT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlO1FBQ3REO1FBRUEsd0NBQXdDO1FBQ3hDWCxJQUFJUSxPQUFPLEdBQUdBO1FBRWQsNkNBQTZDO1FBQzdDUixJQUFJWSxJQUFJLEdBQUc7WUFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO1lBQzdCRSxNQUFNUCxRQUFRTyxJQUFJO1lBQ2xCQyxPQUFPUixRQUFRUSxLQUFLO1FBQ3RCO1FBRUEsNEJBQTRCO1FBQzVCLE9BQU9WLFFBQVFOLEtBQUtPO0lBQ3RCO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNVLG1CQUFtQlgsT0FBTyxFQUFFWSxtQkFBbUI7SUFBQztJQUFRO0lBQU87Q0FBUztJQUN0RixPQUFPLE9BQU9sQixLQUFLTztRQUNqQixzREFBc0Q7UUFDdEQsSUFBSVcsaUJBQWlCQyxRQUFRLENBQUNuQixJQUFJb0IsTUFBTSxHQUFHO1lBQ3pDLE1BQU1aLFVBQVUsTUFBTVQsZUFBZUM7WUFFckMsSUFBSSxDQUFDUSxTQUFTO2dCQUNaLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQWU7WUFDdEQ7WUFFQSx3Q0FBd0M7WUFDeENYLElBQUlRLE9BQU8sR0FBR0E7WUFFZCw2Q0FBNkM7WUFDN0NSLElBQUlZLElBQUksR0FBRztnQkFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO2dCQUM3QkUsTUFBTVAsUUFBUU8sSUFBSTtnQkFDbEJDLE9BQU9SLFFBQVFRLEtBQUs7WUFDdEI7UUFDRjtRQUVBLDRCQUE0QjtRQUM1QixPQUFPVixRQUFRTixLQUFLTztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGJhdWRpXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvbXB0UHJvXFxQcm9tcHRQcm9cXGxpYlxcYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHJlcXVlc3QgaXMgYXV0aGVudGljYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSByZXF1ZXN0IG9iamVjdFxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSAtIFRoZSB1c2VyIHNlc3Npb24gb3IgbnVsbCBpZiBub3QgYXV0aGVudGljYXRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFNlc3Npb24ocmVxKSB7XG4gIHJldHVybiBhd2FpdCBnZXRUb2tlbih7IHJlcSwgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfSk7XG59XG5cbi8qKlxuICogSGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBUEkgaGFuZGxlciB0aGF0IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gVGhlIEFQSSBoYW5kbGVyIHRvIHByb3RlY3RcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBUaGUgcHJvdGVjdGVkIEFQSSBoYW5kbGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQXV0aChoYW5kbGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0QXV0aFNlc3Npb24ocmVxKTtcbiAgICBcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgdGhlIHNlc3Npb24gdG8gdGhlIHJlcXVlc3Qgb2JqZWN0XG4gICAgcmVxLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIFxuICAgIC8vIEFsc28gYWRkIGEgdXNlciBwcm9wZXJ0eSBmb3IgY29tcGF0aWJpbGl0eVxuICAgIHJlcS51c2VyID0ge1xuICAgICAgaWQ6IHNlc3Npb24uc3ViIHx8IHNlc3Npb24uaWQsXG4gICAgICBuYW1lOiBzZXNzaW9uLm5hbWUsXG4gICAgICBlbWFpbDogc2Vzc2lvbi5lbWFpbFxuICAgIH07XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgaGFuZGxlclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBIaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCBvcHRpb25hbGx5IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIGZvciBjZXJ0YWluIG1ldGhvZHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBUaGUgQVBJIGhhbmRsZXIgXG4gKiBAcGFyYW0ge0FycmF5fSBwcm90ZWN0ZWRNZXRob2RzIC0gSFRUUCBtZXRob2RzIHRoYXQgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiAoZS5nLiwgWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSlcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gLSBUaGUgY29uZGl0aW9uYWxseSBwcm90ZWN0ZWQgQVBJIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoRm9yTWV0aG9kcyhoYW5kbGVyLCBwcm90ZWN0ZWRNZXRob2RzID0gWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSkge1xuICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWV0aG9kIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKHByb3RlY3RlZE1ldGhvZHMuaW5jbHVkZXMocmVxLm1ldGhvZCkpIHtcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRBdXRoU2Vzc2lvbihyZXEpO1xuICAgICAgXG4gICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGUgc2Vzc2lvbiB0byB0aGUgcmVxdWVzdCBvYmplY3RcbiAgICAgIHJlcS5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBhZGQgYSB1c2VyIHByb3BlcnR5IGZvciBjb21wYXRpYmlsaXR5XG4gICAgICByZXEudXNlciA9IHtcbiAgICAgICAgaWQ6IHNlc3Npb24uc3ViIHx8IHNlc3Npb24uaWQsXG4gICAgICAgIG5hbWU6IHNlc3Npb24ubmFtZSxcbiAgICAgICAgZW1haWw6IHNlc3Npb24uZW1haWxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIGhhbmRsZXJcbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XG4gIH07XG59Il0sIm5hbWVzIjpbImdldFRva2VuIiwiZ2V0QXV0aFNlc3Npb24iLCJyZXEiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwid2l0aEF1dGgiLCJoYW5kbGVyIiwicmVzIiwic2Vzc2lvbiIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVzZXIiLCJpZCIsInN1YiIsIm5hbWUiLCJlbWFpbCIsIndpdGhBdXRoRm9yTWV0aG9kcyIsInByb3RlY3RlZE1ldGhvZHMiLCJpbmNsdWRlcyIsIm1ldGhvZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.js\n");

/***/ }),

/***/ "(api-node)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabaseConnection: () => (/* binding */ closeDatabaseConnection),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   getCollection: () => (/* binding */ getCollection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI;\nconst dbName = process.env.MONGODB_DB;\nif (!uri) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nif (!dbName) {\n    throw new Error('Please define the MONGODB_DB environment variable inside .env.local');\n}\nlet cachedClient = null;\nlet cachedDb = null;\n/**\r\n * Connects to the MongoDB database and returns the client and db instances.\r\n * Caches the connection to avoid reconnecting on every request in development.\r\n */ async function connectToDatabase() {\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    try {\n        const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, {\n        });\n        await client.connect();\n        const db = client.db(dbName);\n        console.log(\"Successfully connected to MongoDB.\");\n        cachedClient = client;\n        cachedDb = db;\n        return {\n            client,\n            db\n        };\n    } catch (error) {\n        console.error(\"Failed to connect to MongoDB\", error);\n        throw new Error(\"Could not connect to database.\");\n    }\n}\n// Optional: Helper to close the connection (useful for scripts or tests)\nasync function closeDatabaseConnection() {\n    if (cachedClient) {\n        await cachedClient.close();\n        cachedClient = null;\n        cachedDb = null;\n        console.log(\"MongoDB connection closed.\");\n    }\n}\n// Helper function to get collection references\nasync function getCollection(collectionName) {\n    const { db } = await connectToDatabase();\n    return db.collection(collectionName);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBRXRDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNuQyxNQUFNQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLFVBQVU7QUFFckMsSUFBSSxDQUFDTCxLQUFLO0lBQ1IsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDRixRQUFRO0lBQ1gsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsZUFBZTtBQUNuQixJQUFJQyxXQUFXO0FBRWY7OztDQUdDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSUYsZ0JBQWdCQyxVQUFVO1FBQzVCLE9BQU87WUFBRUUsUUFBUUg7WUFBY0ksSUFBSUg7UUFBUztJQUM5QztJQUVBLElBQUk7UUFDRixNQUFNRSxTQUFTLElBQUlYLGdEQUFXQSxDQUFDQyxLQUFLO1FBR3BDO1FBRUEsTUFBTVUsT0FBT0UsT0FBTztRQUNwQixNQUFNRCxLQUFLRCxPQUFPQyxFQUFFLENBQUNQO1FBRXJCUyxRQUFRQyxHQUFHLENBQUM7UUFFWlAsZUFBZUc7UUFDZkYsV0FBV0c7UUFFWCxPQUFPO1lBQUVEO1lBQVFDO1FBQUc7SUFDdEIsRUFBRSxPQUFPSSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE1BQU0sSUFBSVQsTUFBTTtJQUNsQjtBQUNGO0FBRUEseUVBQXlFO0FBQ2xFLGVBQWVVO0lBQ3BCLElBQUlULGNBQWM7UUFDaEIsTUFBTUEsYUFBYVUsS0FBSztRQUN4QlYsZUFBZTtRQUNmQyxXQUFXO1FBQ1hLLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0FBQ0Y7QUFFQSwrQ0FBK0M7QUFDeEMsZUFBZUksY0FBY0MsY0FBYztJQUNoRCxNQUFNLEVBQUVSLEVBQUUsRUFBRSxHQUFHLE1BQU1GO0lBQ3JCLE9BQU9FLEdBQUdTLFVBQVUsQ0FBQ0Q7QUFDdkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xcbGliXFxtb25nb2RiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XHJcblxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc3QgZGJOYW1lID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQjtcclxuXHJcbmlmICghdXJpKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5pZiAoIWRiTmFtZSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9EQiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxubGV0IGNhY2hlZERiID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiBDb25uZWN0cyB0byB0aGUgTW9uZ29EQiBkYXRhYmFzZSBhbmQgcmV0dXJucyB0aGUgY2xpZW50IGFuZCBkYiBpbnN0YW5jZXMuXHJcbiAqIENhY2hlcyB0aGUgY29ubmVjdGlvbiB0byBhdm9pZCByZWNvbm5lY3Rpbmcgb24gZXZlcnkgcmVxdWVzdCBpbiBkZXZlbG9wbWVudC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICBpZiAoY2FjaGVkQ2xpZW50ICYmIGNhY2hlZERiKSB7XHJcbiAgICByZXR1cm4geyBjbGllbnQ6IGNhY2hlZENsaWVudCwgZGI6IGNhY2hlZERiIH07XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwge1xyXG4gICAgICAvLyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIC8vIERlcHJlY2F0ZWQgaW4gbmV3ZXIgdmVyc2lvbnNcclxuICAgICAgLy8gdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLCAvLyBEZXByZWNhdGVkIGluIG5ld2VyIHZlcnNpb25zXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoZGJOYW1lKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gTW9uZ29EQi5cIik7XHJcblxyXG4gICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xyXG4gICAgY2FjaGVkRGIgPSBkYjtcclxuXHJcbiAgICByZXR1cm4geyBjbGllbnQsIGRiIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBNb25nb0RCXCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE9wdGlvbmFsOiBIZWxwZXIgdG8gY2xvc2UgdGhlIGNvbm5lY3Rpb24gKHVzZWZ1bCBmb3Igc2NyaXB0cyBvciB0ZXN0cylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlRGF0YWJhc2VDb25uZWN0aW9uKCkge1xyXG4gIGlmIChjYWNoZWRDbGllbnQpIHtcclxuICAgIGF3YWl0IGNhY2hlZENsaWVudC5jbG9zZSgpO1xyXG4gICAgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxuICAgIGNhY2hlZERiID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0aW9uIGNsb3NlZC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGNvbGxlY3Rpb24gcmVmZXJlbmNlc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSkge1xyXG4gIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XHJcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xyXG59ICJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInVyaSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsImRiTmFtZSIsIk1PTkdPREJfREIiLCJFcnJvciIsImNhY2hlZENsaWVudCIsImNhY2hlZERiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJkYiIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURhdGFiYXNlQ29ubmVjdGlvbiIsImNsb3NlIiwiZ2V0Q29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api-node)/./lib/repositories/teamRepository.js":
/*!********************************************!*\
  !*** ./lib/repositories/teamRepository.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTeamMember: () => (/* binding */ addTeamMember),\n/* harmony export */   createTeam: () => (/* binding */ createTeam),\n/* harmony export */   deleteTeam: () => (/* binding */ deleteTeam),\n/* harmony export */   getAllTeams: () => (/* binding */ getAllTeams),\n/* harmony export */   getTeamById: () => (/* binding */ getTeamById),\n/* harmony export */   getTeamsByUserId: () => (/* binding */ getTeamsByUserId),\n/* harmony export */   removeTeamMember: () => (/* binding */ removeTeamMember),\n/* harmony export */   updateTeam: () => (/* binding */ updateTeam),\n/* harmony export */   updateTeamMemberRole: () => (/* binding */ updateTeamMemberRole)\n/* harmony export */ });\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mongodb */ \"(api-node)/./lib/mongodb.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst COLLECTION_NAME = 'teams';\n/**\r\n * Get all teams with optional filtering\r\n * @param {Object} filter - Optional filter criteria\r\n * @returns {Promise<Array>} Array of teams\r\n */ async function getAllTeams(filter = {}) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const teams = await collection.find(filter).toArray();\n    return teams.map(mapMongoTeam);\n}\n/**\r\n * Get a single team by ID\r\n * @param {string} id - Team ID\r\n * @returns {Promise<Object|null>} Team object or null\r\n */ async function getTeamById(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const team = await collection.findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return team ? mapMongoTeam(team) : null;\n}\n/**\r\n * Create a new team\r\n * @param {Object} teamData - Team data\r\n * @returns {Promise<Object>} Created team\r\n */ async function createTeam(teamData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const newTeam = {\n        ...teamData,\n        members: teamData.members || [],\n        createdAt: new Date(),\n        updatedAt: new Date()\n    };\n    // Ensure creator is added as an owner if not already in members\n    if (newTeam.userId && !newTeam.members.some((m)=>m.userId === newTeam.userId)) {\n        newTeam.members.push({\n            userId: newTeam.userId,\n            role: 'owner',\n            joinedAt: new Date()\n        });\n    }\n    const result = await collection.insertOne(newTeam);\n    return {\n        id: result.insertedId.toString(),\n        ...newTeam\n    };\n}\n/**\r\n * Update an existing team\r\n * @param {string} id - Team ID\r\n * @param {Object} teamData - Updated team data\r\n * @returns {Promise<Object|null>} Updated team or null\r\n */ async function updateTeam(id, teamData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const updatedTeam = {\n        ...teamData,\n        updatedAt: new Date()\n    };\n    // Don't override these fields if not explicitly provided\n    delete updatedTeam._id;\n    delete updatedTeam.id;\n    delete updatedTeam.createdAt;\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: updatedTeam\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoTeam(result.value) : null;\n}\n/**\r\n * Delete a team\r\n * @param {string} id - Team ID\r\n * @returns {Promise<boolean>} Success flag\r\n */ async function deleteTeam(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return result.deletedCount === 1;\n}\n/**\r\n * Add a member to a team\r\n * @param {string} teamId - Team ID\r\n * @param {Object} memberData - Member data (userId, role)\r\n * @returns {Promise<Object|null>} Updated team or null\r\n */ async function addTeamMember(teamId, memberData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const member = {\n        ...memberData,\n        joinedAt: new Date()\n    };\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(teamId),\n        'members.userId': {\n            $ne: memberData.userId\n        } // Prevent duplicates\n    }, {\n        $addToSet: {\n            members: member\n        },\n        $set: {\n            updatedAt: new Date()\n        }\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoTeam(result.value) : null;\n}\n/**\r\n * Update a team member's role\r\n * @param {string} teamId - Team ID\r\n * @param {string} userId - User ID\r\n * @param {string} role - New role\r\n * @returns {Promise<Object|null>} Updated team or null\r\n */ async function updateTeamMemberRole(teamId, userId, role) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(teamId),\n        'members.userId': userId\n    }, {\n        $set: {\n            'members.$.role': role,\n            updatedAt: new Date()\n        }\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoTeam(result.value) : null;\n}\n/**\r\n * Remove a member from a team\r\n * @param {string} teamId - Team ID\r\n * @param {string} userId - User ID to remove\r\n * @returns {Promise<Object|null>} Updated team or null\r\n */ async function removeTeamMember(teamId, userId) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(teamId)\n    }, {\n        $pull: {\n            members: {\n                userId: userId\n            }\n        },\n        $set: {\n            updatedAt: new Date()\n        }\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoTeam(result.value) : null;\n}\n/**\r\n * Get teams for a specific user\r\n * @param {string} userId - User ID\r\n * @returns {Promise<Array>} Array of teams\r\n */ async function getTeamsByUserId(userId) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const teams = await collection.find({\n        $or: [\n            {\n                userId: userId\n            },\n            {\n                'members.userId': userId\n            }\n        ]\n    }).toArray();\n    return teams.map(mapMongoTeam);\n}\n/**\r\n * Map MongoDB document to app model (handling _id conversion)\r\n * @param {Object} doc - MongoDB document\r\n * @returns {Object} Mapped team object\r\n */ function mapMongoTeam(doc) {\n    return {\n        id: doc._id.toString(),\n        ...doc,\n        _id: undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9yZXBvc2l0b3JpZXMvdGVhbVJlcG9zaXRvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ1I7QUFFbkMsTUFBTUUsa0JBQWtCO0FBRXhCOzs7O0NBSUMsR0FDTSxlQUFlQyxZQUFZQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxNQUFNQyxhQUFhLE1BQU1MLHVEQUFhQSxDQUFDRTtJQUN2QyxNQUFNSSxRQUFRLE1BQU1ELFdBQVdFLElBQUksQ0FBQ0gsUUFBUUksT0FBTztJQUNuRCxPQUFPRixNQUFNRyxHQUFHLENBQUNDO0FBQ25CO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVDLFlBQVlDLEVBQUU7SUFDbEMsTUFBTVAsYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFDdkMsTUFBTVcsT0FBTyxNQUFNUixXQUFXUyxPQUFPLENBQUM7UUFBRUMsS0FBSyxJQUFJZCw2Q0FBUUEsQ0FBQ1c7SUFBSTtJQUM5RCxPQUFPQyxPQUFPSCxhQUFhRyxRQUFRO0FBQ3JDO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVHLFdBQVdDLFFBQVE7SUFDdkMsTUFBTVosYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFFdkMsTUFBTWdCLFVBQVU7UUFDZCxHQUFHRCxRQUFRO1FBQ1hFLFNBQVNGLFNBQVNFLE9BQU8sSUFBSSxFQUFFO1FBQy9CQyxXQUFXLElBQUlDO1FBQ2ZDLFdBQVcsSUFBSUQ7SUFDakI7SUFFQSxnRUFBZ0U7SUFDaEUsSUFBSUgsUUFBUUssTUFBTSxJQUFJLENBQUNMLFFBQVFDLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFRixNQUFNLEtBQUtMLFFBQVFLLE1BQU0sR0FBRztRQUM3RUwsUUFBUUMsT0FBTyxDQUFDTyxJQUFJLENBQUM7WUFDbkJILFFBQVFMLFFBQVFLLE1BQU07WUFDdEJJLE1BQU07WUFDTkMsVUFBVSxJQUFJUDtRQUNoQjtJQUNGO0lBRUEsTUFBTVEsU0FBUyxNQUFNeEIsV0FBV3lC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ckQ7QUFFQTs7OztDQUlDLEdBQ00sZUFBZWEsaUJBQWlCNUIsTUFBTTtJQUMzQyxNQUFNbEIsYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFDdkMsTUFBTUksUUFBUSxNQUFNRCxXQUFXRSxJQUFJLENBQUM7UUFDbEM2QyxLQUFLO1lBQ0g7Z0JBQUU3QixRQUFRQTtZQUFPO1lBQ2pCO2dCQUFFLGtCQUFrQkE7WUFBTztTQUM1QjtJQUNILEdBQUdmLE9BQU87SUFFVixPQUFPRixNQUFNRyxHQUFHLENBQUNDO0FBQ25CO0FBRUE7Ozs7Q0FJQyxHQUNELFNBQVNBLGFBQWEyQyxHQUFHO0lBQ3ZCLE9BQU87UUFDTHpDLElBQUl5QyxJQUFJdEMsR0FBRyxDQUFDaUIsUUFBUTtRQUNwQixHQUFHcUIsR0FBRztRQUNOdEMsS0FBS3VDO0lBQ1A7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiYXVkaVxcT25lRHJpdmVcXERlc2t0b3BcXFByb21wdFByb1xcUHJvbXB0UHJvXFxsaWJcXHJlcG9zaXRvcmllc1xcdGVhbVJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gJy4uL21vbmdvZGInO1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgQ09MTEVDVElPTl9OQU1FID0gJ3RlYW1zJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIHRlYW1zIHdpdGggb3B0aW9uYWwgZmlsdGVyaW5nXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWx0ZXIgLSBPcHRpb25hbCBmaWx0ZXIgY3JpdGVyaWFcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSBBcnJheSBvZiB0ZWFtc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFRlYW1zKGZpbHRlciA9IHt9KSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBjb25zdCB0ZWFtcyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZChmaWx0ZXIpLnRvQXJyYXkoKTtcclxuICByZXR1cm4gdGVhbXMubWFwKG1hcE1vbmdvVGVhbSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYSBzaW5nbGUgdGVhbSBieSBJRFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUZWFtIElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGVhbSBvYmplY3Qgb3IgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRlYW1CeUlkKGlkKSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBjb25zdCB0ZWFtID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiB0ZWFtID8gbWFwTW9uZ29UZWFtKHRlYW0pIDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyB0ZWFtXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZWFtRGF0YSAtIFRlYW0gZGF0YVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIHRlYW1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUZWFtKHRlYW1EYXRhKSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBcclxuICBjb25zdCBuZXdUZWFtID0ge1xyXG4gICAgLi4udGVhbURhdGEsXHJcbiAgICBtZW1iZXJzOiB0ZWFtRGF0YS5tZW1iZXJzIHx8IFtdLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgfTtcclxuICBcclxuICAvLyBFbnN1cmUgY3JlYXRvciBpcyBhZGRlZCBhcyBhbiBvd25lciBpZiBub3QgYWxyZWFkeSBpbiBtZW1iZXJzXHJcbiAgaWYgKG5ld1RlYW0udXNlcklkICYmICFuZXdUZWFtLm1lbWJlcnMuc29tZShtID0+IG0udXNlcklkID09PSBuZXdUZWFtLnVzZXJJZCkpIHtcclxuICAgIG5ld1RlYW0ubWVtYmVycy5wdXNoKHtcclxuICAgICAgdXNlcklkOiBuZXdUZWFtLnVzZXJJZCxcclxuICAgICAgcm9sZTogJ293bmVyJyxcclxuICAgICAgam9pbmVkQXQ6IG5ldyBEYXRlKClcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZShuZXdUZWFtKTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHJlc3VsdC5pbnNlcnRlZElkLnRvU3RyaW5nKCksXHJcbiAgICAuLi5uZXdUZWFtXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBhbiBleGlzdGluZyB0ZWFtXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRlYW0gSURcclxuICogQHBhcmFtIHtPYmplY3R9IHRlYW1EYXRhIC0gVXBkYXRlZCB0ZWFtIGRhdGFcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBVcGRhdGVkIHRlYW0gb3IgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVRlYW0oaWQsIHRlYW1EYXRhKSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBcclxuICBjb25zdCB1cGRhdGVkVGVhbSA9IHtcclxuICAgIC4uLnRlYW1EYXRhLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgfTtcclxuICBcclxuICAvLyBEb24ndCBvdmVycmlkZSB0aGVzZSBmaWVsZHMgaWYgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWRcclxuICBkZWxldGUgdXBkYXRlZFRlYW0uX2lkO1xyXG4gIGRlbGV0ZSB1cGRhdGVkVGVhbS5pZDtcclxuICBkZWxldGUgdXBkYXRlZFRlYW0uY3JlYXRlZEF0O1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZUFuZFVwZGF0ZShcclxuICAgIHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0sXHJcbiAgICB7ICRzZXQ6IHVwZGF0ZWRUZWFtIH0sXHJcbiAgICB7IHJldHVybkRvY3VtZW50OiAnYWZ0ZXInIH1cclxuICApO1xyXG4gIFxyXG4gIHJldHVybiByZXN1bHQudmFsdWUgPyBtYXBNb25nb1RlYW0ocmVzdWx0LnZhbHVlKSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSB0ZWFtXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRlYW0gSURcclxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFN1Y2Nlc3MgZmxhZ1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVRlYW0oaWQpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiByZXN1bHQuZGVsZXRlZENvdW50ID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgbWVtYmVyIHRvIGEgdGVhbVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVhbUlkIC0gVGVhbSBJRFxyXG4gKiBAcGFyYW0ge09iamVjdH0gbWVtYmVyRGF0YSAtIE1lbWJlciBkYXRhICh1c2VySWQsIHJvbGUpXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVXBkYXRlZCB0ZWFtIG9yIG51bGxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRUZWFtTWVtYmVyKHRlYW1JZCwgbWVtYmVyRGF0YSkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgXHJcbiAgY29uc3QgbWVtYmVyID0ge1xyXG4gICAgLi4ubWVtYmVyRGF0YSxcclxuICAgIGpvaW5lZEF0OiBuZXcgRGF0ZSgpXHJcbiAgfTtcclxuICBcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmRPbmVBbmRVcGRhdGUoXHJcbiAgICB7IFxyXG4gICAgICBfaWQ6IG5ldyBPYmplY3RJZCh0ZWFtSWQpLFxyXG4gICAgICAnbWVtYmVycy51c2VySWQnOiB7ICRuZTogbWVtYmVyRGF0YS51c2VySWQgfSAvLyBQcmV2ZW50IGR1cGxpY2F0ZXNcclxuICAgIH0sXHJcbiAgICB7IFxyXG4gICAgICAkYWRkVG9TZXQ6IHsgbWVtYmVyczogbWVtYmVyIH0sXHJcbiAgICAgICRzZXQ6IHsgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH1cclxuICAgIH0sXHJcbiAgICB7IHJldHVybkRvY3VtZW50OiAnYWZ0ZXInIH1cclxuICApO1xyXG4gIFxyXG4gIHJldHVybiByZXN1bHQudmFsdWUgPyBtYXBNb25nb1RlYW0ocmVzdWx0LnZhbHVlKSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgYSB0ZWFtIG1lbWJlcidzIHJvbGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHRlYW1JZCAtIFRlYW0gSURcclxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IHJvbGUgLSBOZXcgcm9sZVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IFVwZGF0ZWQgdGVhbSBvciBudWxsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVGVhbU1lbWJlclJvbGUodGVhbUlkLCB1c2VySWQsIHJvbGUpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZUFuZFVwZGF0ZShcclxuICAgIHsgXHJcbiAgICAgIF9pZDogbmV3IE9iamVjdElkKHRlYW1JZCksXHJcbiAgICAgICdtZW1iZXJzLnVzZXJJZCc6IHVzZXJJZFxyXG4gICAgfSxcclxuICAgIHsgXHJcbiAgICAgICRzZXQ6IHsgXHJcbiAgICAgICAgJ21lbWJlcnMuJC5yb2xlJzogcm9sZSxcclxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHsgcmV0dXJuRG9jdW1lbnQ6ICdhZnRlcicgfVxyXG4gICk7XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdC52YWx1ZSA/IG1hcE1vbmdvVGVhbShyZXN1bHQudmFsdWUpIDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhIG1lbWJlciBmcm9tIGEgdGVhbVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVhbUlkIC0gVGVhbSBJRFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRCB0byByZW1vdmVcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBVcGRhdGVkIHRlYW0gb3IgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVRlYW1NZW1iZXIodGVhbUlkLCB1c2VySWQpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZUFuZFVwZGF0ZShcclxuICAgIHsgX2lkOiBuZXcgT2JqZWN0SWQodGVhbUlkKSB9LFxyXG4gICAgeyBcclxuICAgICAgJHB1bGw6IHsgbWVtYmVyczogeyB1c2VySWQ6IHVzZXJJZCB9IH0sXHJcbiAgICAgICRzZXQ6IHsgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH1cclxuICAgIH0sXHJcbiAgICB7IHJldHVybkRvY3VtZW50OiAnYWZ0ZXInIH1cclxuICApO1xyXG4gIFxyXG4gIHJldHVybiByZXN1bHQudmFsdWUgPyBtYXBNb25nb1RlYW0ocmVzdWx0LnZhbHVlKSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGVhbXMgZm9yIGEgc3BlY2lmaWMgdXNlclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVXNlciBJRFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IEFycmF5IG9mIHRlYW1zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGVhbXNCeVVzZXJJZCh1c2VySWQpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHRlYW1zID0gYXdhaXQgY29sbGVjdGlvbi5maW5kKHsgXHJcbiAgICAkb3I6IFtcclxuICAgICAgeyB1c2VySWQ6IHVzZXJJZCB9LFxyXG4gICAgICB7ICdtZW1iZXJzLnVzZXJJZCc6IHVzZXJJZCB9XHJcbiAgICBdIFxyXG4gIH0pLnRvQXJyYXkoKTtcclxuICBcclxuICByZXR1cm4gdGVhbXMubWFwKG1hcE1vbmdvVGVhbSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYXAgTW9uZ29EQiBkb2N1bWVudCB0byBhcHAgbW9kZWwgKGhhbmRsaW5nIF9pZCBjb252ZXJzaW9uKVxyXG4gKiBAcGFyYW0ge09iamVjdH0gZG9jIC0gTW9uZ29EQiBkb2N1bWVudFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBNYXBwZWQgdGVhbSBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcE1vbmdvVGVhbShkb2MpIHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IGRvYy5faWQudG9TdHJpbmcoKSxcclxuICAgIC4uLmRvYyxcclxuICAgIF9pZDogdW5kZWZpbmVkXHJcbiAgfTtcclxufSAiXSwibmFtZXMiOlsiZ2V0Q29sbGVjdGlvbiIsIk9iamVjdElkIiwiQ09MTEVDVElPTl9OQU1FIiwiZ2V0QWxsVGVhbXMiLCJmaWx0ZXIiLCJjb2xsZWN0aW9uIiwidGVhbXMiLCJmaW5kIiwidG9BcnJheSIsIm1hcCIsIm1hcE1vbmdvVGVhbSIsImdldFRlYW1CeUlkIiwiaWQiLCJ0ZWFtIiwiZmluZE9uZSIsIl9pZCIsImNyZWF0ZVRlYW0iLCJ0ZWFtRGF0YSIsIm5ld1RlYW0iLCJtZW1iZXJzIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInVwZGF0ZWRBdCIsInVzZXJJZCIsInNvbWUiLCJtIiwicHVzaCIsInJvbGUiLCJqb2luZWRBdCIsInJlc3VsdCIsImluc2VydE9uZSIsImluc2VydGVkSWQiLCJ0b1N0cmluZyIsInVwZGF0ZVRlYW0iLCJ1cGRhdGVkVGVhbSIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwicmV0dXJuRG9jdW1lbnQiLCJ2YWx1ZSIsImRlbGV0ZVRlYW0iLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJhZGRUZWFtTWVtYmVyIiwidGVhbUlkIiwibWVtYmVyRGF0YSIsIm1lbWJlciIsIiRuZSIsIiRhZGRUb1NldCIsInVwZGF0ZVRlYW1NZW1iZXJSb2xlIiwicmVtb3ZlVGVhbU1lbWJlciIsIiRwdWxsIiwiZ2V0VGVhbXNCeVVzZXJJZCIsIiRvciIsImRvYyIsInVuZGVmaW5lZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/repositories/teamRepository.js\n");

/***/ }),

/***/ "(api-node)/./models/team.js":
/*!************************!*\
  !*** ./models/team.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMemberRole: () => (/* binding */ getMemberRole),\n/* harmony export */   isTeamAdmin: () => (/* binding */ isTeamAdmin),\n/* harmony export */   isTeamMember: () => (/* binding */ isTeamMember),\n/* harmony export */   sanitizeTeam: () => (/* binding */ sanitizeTeam),\n/* harmony export */   teamModel: () => (/* binding */ teamModel),\n/* harmony export */   validateTeam: () => (/* binding */ validateTeam)\n/* harmony export */ });\n/**\n * Team data model and validation functions\n */ /**\n * Team model schema\n * @typedef {Object} TeamModel\n * @property {string} id - Unique identifier\n * @property {string} name - Team name\n * @property {string} description - Team description\n * @property {string} userId - ID of the team creator/owner\n * @property {Array<TeamMember>} members - Array of team members\n * @property {string} createdAt - Creation timestamp\n * @property {string} updatedAt - Last update timestamp\n */ /**\n * Team member schema\n * @typedef {Object} TeamMember\n * @property {string} userId - User ID\n * @property {string} role - Member role (owner, admin, member)\n * @property {string} joinedAt - Timestamp when member joined\n */ /**\n * Team model definition\n */ const teamModel = {\n    id: '',\n    name: '',\n    description: '',\n    userId: '',\n    members: [],\n    createdAt: '',\n    updatedAt: ''\n};\n/**\n * Validate team data\n * @param {Object} data - Team data to validate\n * @returns {Object} Validation result with errors if any\n */ const validateTeam = (data, isUpdate = false)=>{\n    const errors = {};\n    // Name is required unless this is an update\n    if (!isUpdate || data.name !== undefined) {\n        if (!data.name || data.name.trim() === '') {\n            errors.name = 'Team name is required';\n        } else if (data.name.length > 100) {\n            errors.name = 'Team name must be less than 100 characters';\n        }\n    }\n    // Description length check if provided\n    if (data.description && data.description.length > 500) {\n        errors.description = 'Team description must be less than 500 characters';\n    }\n    // Creator required for new teams\n    if (!isUpdate && !data.userId) {\n        errors.userId = 'Creator ID is required';\n    }\n    return {\n        isValid: Object.keys(errors).length === 0,\n        errors\n    };\n};\n/**\n * Sanitize team data for safe display\n * @param {Object} team - Team data to sanitize\n * @returns {Object} Sanitized team data\n */ const sanitizeTeam = (team)=>{\n    return {\n        ...team\n    };\n};\n/**\n * Get member role in team\n * @param {Object} team - Team object\n * @param {string} userId - User ID to check\n * @returns {string|null} Member role or null if not a member\n */ const getMemberRole = (team, userId)=>{\n    // Check if user is the owner first (backwards compatibility)\n    if (team.userId === userId) {\n        return 'owner';\n    }\n    // Check in members array\n    const member = team.members.find((m)=>m.userId === userId);\n    return member ? member.role : null;\n};\n/**\n * Check if user has admin privileges in team\n * @param {Object} team - Team object\n * @param {string} userId - User ID to check\n * @returns {boolean} True if user is owner or admin\n */ const isTeamAdmin = (team, userId)=>{\n    const role = getMemberRole(team, userId);\n    return role === 'owner' || role === 'admin';\n};\n/**\n * Check if user is a member of the team\n * @param {Object} team - Team object\n * @param {string} userId - User ID to check\n * @returns {boolean} True if user is a team member\n */ const isTeamMember = (team, userId)=>{\n    return getMemberRole(team, userId) !== null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy90ZWFtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztDQUVDLEdBRUQ7Ozs7Ozs7Ozs7Q0FVQyxHQUVEOzs7Ozs7Q0FNQyxHQUVEOztDQUVDLEdBQ00sTUFBTUEsWUFBWTtJQUN2QkMsSUFBSTtJQUNKQyxNQUFNO0lBQ05DLGFBQWE7SUFDYkMsUUFBUTtJQUNSQyxTQUFTLEVBQUU7SUFDWEMsV0FBVztJQUNYQyxXQUFXO0FBQ2IsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxNQUFNQyxlQUFlLENBQUNDLE1BQU1DLFdBQVcsS0FBSztJQUNqRCxNQUFNQyxTQUFTLENBQUM7SUFFaEIsNENBQTRDO0lBQzVDLElBQUksQ0FBQ0QsWUFBWUQsS0FBS1AsSUFBSSxLQUFLVSxXQUFXO1FBQ3hDLElBQUksQ0FBQ0gsS0FBS1AsSUFBSSxJQUFJTyxLQUFLUCxJQUFJLENBQUNXLElBQUksT0FBTyxJQUFJO1lBQ3pDRixPQUFPVCxJQUFJLEdBQUc7UUFDaEIsT0FBTyxJQUFJTyxLQUFLUCxJQUFJLENBQUNZLE1BQU0sR0FBRyxLQUFLO1lBQ2pDSCxPQUFPVCxJQUFJLEdBQUc7UUFDaEI7SUFDRjtJQUVBLHVDQUF1QztJQUN2QyxJQUFJTyxLQUFLTixXQUFXLElBQUlNLEtBQUtOLFdBQVcsQ0FBQ1csTUFBTSxHQUFHLEtBQUs7UUFDckRILE9BQU9SLFdBQVcsR0FBRztJQUN2QjtJQUVBLGlDQUFpQztJQUNqQyxJQUFJLENBQUNPLFlBQVksQ0FBQ0QsS0FBS0wsTUFBTSxFQUFFO1FBQzdCTyxPQUFPUCxNQUFNLEdBQUc7SUFDbEI7SUFFQSxPQUFPO1FBQ0xXLFNBQVNDLE9BQU9DLElBQUksQ0FBQ04sUUFBUUcsTUFBTSxLQUFLO1FBQ3hDSDtJQUNGO0FBQ0YsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxNQUFNTyxlQUFlLENBQUNDO0lBQzNCLE9BQU87UUFDTCxHQUFHQSxJQUFJO0lBRVQ7QUFDRixFQUFFO0FBRUY7Ozs7O0NBS0MsR0FDTSxNQUFNQyxnQkFBZ0IsQ0FBQ0QsTUFBTWY7SUFDbEMsNkRBQTZEO0lBQzdELElBQUllLEtBQUtmLE1BQU0sS0FBS0EsUUFBUTtRQUMxQixPQUFPO0lBQ1Q7SUFFQSx5QkFBeUI7SUFDekIsTUFBTWlCLFNBQVNGLEtBQUtkLE9BQU8sQ0FBQ2lCLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRW5CLE1BQU0sS0FBS0E7SUFDbkQsT0FBT2lCLFNBQVNBLE9BQU9HLElBQUksR0FBRztBQUNoQyxFQUFFO0FBRUY7Ozs7O0NBS0MsR0FDTSxNQUFNQyxjQUFjLENBQUNOLE1BQU1mO0lBQ2hDLE1BQU1vQixPQUFPSixjQUFjRCxNQUFNZjtJQUNqQyxPQUFPb0IsU0FBUyxXQUFXQSxTQUFTO0FBQ3RDLEVBQUU7QUFFRjs7Ozs7Q0FLQyxHQUNNLE1BQU1FLGVBQWUsQ0FBQ1AsTUFBTWY7SUFDakMsT0FBT2dCLGNBQWNELE1BQU1mLFlBQVk7QUFDekMsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxiYXVkaVxcT25lRHJpdmVcXERlc2t0b3BcXFByb21wdFByb1xcUHJvbXB0UHJvXFxtb2RlbHNcXHRlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZWFtIGRhdGEgbW9kZWwgYW5kIHZhbGlkYXRpb24gZnVuY3Rpb25zXG4gKi9cblxuLyoqXG4gKiBUZWFtIG1vZGVsIHNjaGVtYVxuICogQHR5cGVkZWYge09iamVjdH0gVGVhbU1vZGVsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgLSBVbmlxdWUgaWRlbnRpZmllclxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBUZWFtIG5hbWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXNjcmlwdGlvbiAtIFRlYW0gZGVzY3JpcHRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1c2VySWQgLSBJRCBvZiB0aGUgdGVhbSBjcmVhdG9yL293bmVyXG4gKiBAcHJvcGVydHkge0FycmF5PFRlYW1NZW1iZXI+fSBtZW1iZXJzIC0gQXJyYXkgb2YgdGVhbSBtZW1iZXJzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY3JlYXRlZEF0IC0gQ3JlYXRpb24gdGltZXN0YW1wXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXBkYXRlZEF0IC0gTGFzdCB1cGRhdGUgdGltZXN0YW1wXG4gKi9cblxuLyoqXG4gKiBUZWFtIG1lbWJlciBzY2hlbWFcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRlYW1NZW1iZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcm9sZSAtIE1lbWJlciByb2xlIChvd25lciwgYWRtaW4sIG1lbWJlcilcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBqb2luZWRBdCAtIFRpbWVzdGFtcCB3aGVuIG1lbWJlciBqb2luZWRcbiAqL1xuXG4vKipcbiAqIFRlYW0gbW9kZWwgZGVmaW5pdGlvblxuICovXG5leHBvcnQgY29uc3QgdGVhbU1vZGVsID0ge1xuICBpZDogJycsXG4gIG5hbWU6ICcnLFxuICBkZXNjcmlwdGlvbjogJycsXG4gIHVzZXJJZDogJycsIC8vIENyZWF0b3Ivb3duZXJcbiAgbWVtYmVyczogW10sIC8vIEFycmF5IG9mIG1lbWJlciBvYmplY3RzXG4gIGNyZWF0ZWRBdDogJycsXG4gIHVwZGF0ZWRBdDogJycsXG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIHRlYW0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUZWFtIGRhdGEgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IFZhbGlkYXRpb24gcmVzdWx0IHdpdGggZXJyb3JzIGlmIGFueVxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVUZWFtID0gKGRhdGEsIGlzVXBkYXRlID0gZmFsc2UpID0+IHtcbiAgY29uc3QgZXJyb3JzID0ge307XG5cbiAgLy8gTmFtZSBpcyByZXF1aXJlZCB1bmxlc3MgdGhpcyBpcyBhbiB1cGRhdGVcbiAgaWYgKCFpc1VwZGF0ZSB8fCBkYXRhLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghZGF0YS5uYW1lIHx8IGRhdGEubmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgICBlcnJvcnMubmFtZSA9ICdUZWFtIG5hbWUgaXMgcmVxdWlyZWQnO1xuICAgIH0gZWxzZSBpZiAoZGF0YS5uYW1lLmxlbmd0aCA+IDEwMCkge1xuICAgICAgZXJyb3JzLm5hbWUgPSAnVGVhbSBuYW1lIG11c3QgYmUgbGVzcyB0aGFuIDEwMCBjaGFyYWN0ZXJzJztcbiAgICB9XG4gIH1cblxuICAvLyBEZXNjcmlwdGlvbiBsZW5ndGggY2hlY2sgaWYgcHJvdmlkZWRcbiAgaWYgKGRhdGEuZGVzY3JpcHRpb24gJiYgZGF0YS5kZXNjcmlwdGlvbi5sZW5ndGggPiA1MDApIHtcbiAgICBlcnJvcnMuZGVzY3JpcHRpb24gPSAnVGVhbSBkZXNjcmlwdGlvbiBtdXN0IGJlIGxlc3MgdGhhbiA1MDAgY2hhcmFjdGVycyc7XG4gIH1cblxuICAvLyBDcmVhdG9yIHJlcXVpcmVkIGZvciBuZXcgdGVhbXNcbiAgaWYgKCFpc1VwZGF0ZSAmJiAhZGF0YS51c2VySWQpIHtcbiAgICBlcnJvcnMudXNlcklkID0gJ0NyZWF0b3IgSUQgaXMgcmVxdWlyZWQnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA9PT0gMCxcbiAgICBlcnJvcnMsXG4gIH07XG59O1xuXG4vKipcbiAqIFNhbml0aXplIHRlYW0gZGF0YSBmb3Igc2FmZSBkaXNwbGF5XG4gKiBAcGFyYW0ge09iamVjdH0gdGVhbSAtIFRlYW0gZGF0YSB0byBzYW5pdGl6ZVxuICogQHJldHVybnMge09iamVjdH0gU2FuaXRpemVkIHRlYW0gZGF0YVxuICovXG5leHBvcnQgY29uc3Qgc2FuaXRpemVUZWFtID0gKHRlYW0pID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi50ZWFtLFxuICAgIC8vIFJlbW92ZSBhbnkgc2Vuc2l0aXZlIGluZm9ybWF0aW9uIGlmIG5lZWRlZFxuICB9O1xufTtcblxuLyoqXG4gKiBHZXQgbWVtYmVyIHJvbGUgaW4gdGVhbVxuICogQHBhcmFtIHtPYmplY3R9IHRlYW0gLSBUZWFtIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSUQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gTWVtYmVyIHJvbGUgb3IgbnVsbCBpZiBub3QgYSBtZW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE1lbWJlclJvbGUgPSAodGVhbSwgdXNlcklkKSA9PiB7XG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgdGhlIG93bmVyIGZpcnN0IChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSlcbiAgaWYgKHRlYW0udXNlcklkID09PSB1c2VySWQpIHtcbiAgICByZXR1cm4gJ293bmVyJztcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaW4gbWVtYmVycyBhcnJheVxuICBjb25zdCBtZW1iZXIgPSB0ZWFtLm1lbWJlcnMuZmluZChtID0+IG0udXNlcklkID09PSB1c2VySWQpO1xuICByZXR1cm4gbWVtYmVyID8gbWVtYmVyLnJvbGUgOiBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIGhhcyBhZG1pbiBwcml2aWxlZ2VzIGluIHRlYW1cbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZWFtIC0gVGVhbSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSBVc2VyIElEIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB1c2VyIGlzIG93bmVyIG9yIGFkbWluXG4gKi9cbmV4cG9ydCBjb25zdCBpc1RlYW1BZG1pbiA9ICh0ZWFtLCB1c2VySWQpID0+IHtcbiAgY29uc3Qgcm9sZSA9IGdldE1lbWJlclJvbGUodGVhbSwgdXNlcklkKTtcbiAgcmV0dXJuIHJvbGUgPT09ICdvd25lcicgfHwgcm9sZSA9PT0gJ2FkbWluJztcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBpcyBhIG1lbWJlciBvZiB0aGUgdGVhbVxuICogQHBhcmFtIHtPYmplY3R9IHRlYW0gLSBUZWFtIG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFVzZXIgSUQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHVzZXIgaXMgYSB0ZWFtIG1lbWJlclxuICovXG5leHBvcnQgY29uc3QgaXNUZWFtTWVtYmVyID0gKHRlYW0sIHVzZXJJZCkgPT4ge1xuICByZXR1cm4gZ2V0TWVtYmVyUm9sZSh0ZWFtLCB1c2VySWQpICE9PSBudWxsO1xufTsiXSwibmFtZXMiOlsidGVhbU1vZGVsIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJ1c2VySWQiLCJtZW1iZXJzIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwidmFsaWRhdGVUZWFtIiwiZGF0YSIsImlzVXBkYXRlIiwiZXJyb3JzIiwidW5kZWZpbmVkIiwidHJpbSIsImxlbmd0aCIsImlzVmFsaWQiLCJPYmplY3QiLCJrZXlzIiwic2FuaXRpemVUZWFtIiwidGVhbSIsImdldE1lbWJlclJvbGUiLCJtZW1iZXIiLCJmaW5kIiwibSIsInJvbGUiLCJpc1RlYW1BZG1pbiIsImlzVGVhbU1lbWJlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/team.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fteams&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cteams%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fteams&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cteams%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_teams_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\teams\\index.js */ \"(api-node)/./pages/api/teams/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_teams_index_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_teams_index_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/teams\",\n        pathname: \"/api/teams\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_teams_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdGVhbXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3RlYW1zJTVDaW5kZXguanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDMEQ7QUFDMUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFx0ZWFtc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdGVhbXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90ZWFtc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fteams&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cteams%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/teams/index.js":
/*!**********************************!*\
  !*** ./pages/api/teams/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/auth */ \"(api-node)/./lib/auth.js\");\n/* harmony import */ var _lib_repositories_teamRepository__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/repositories/teamRepository */ \"(api-node)/./lib/repositories/teamRepository.js\");\n/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/team */ \"(api-node)/./models/team.js\");\n\n\n\n/**\n * API handler for team operations\n * \n * GET: Get all teams or teams for the current user\n * POST: Create a new team\n */ async function handler(req, res) {\n    const { method } = req;\n    switch(method){\n        case 'GET':\n            return getTeams(req, res);\n        case 'POST':\n            return createTeamHandler(req, res);\n        default:\n            res.setHeader('Allow', [\n                'GET',\n                'POST'\n            ]);\n            return res.status(405).end(`Method ${method} Not Allowed`);\n    }\n}\n/**\n * Get teams based on request parameters\n * If userId is provided, return teams for that user\n * Otherwise return all teams (admin only)\n */ async function getTeams(req, res) {\n    const { userId } = req.query;\n    try {\n        let teams;\n        // If userId is specified, get teams for that user\n        if (userId) {\n            teams = await (0,_lib_repositories_teamRepository__WEBPACK_IMPORTED_MODULE_1__.getTeamsByUserId)(userId);\n        } else if (req.session?.sub) {\n            teams = await (0,_lib_repositories_teamRepository__WEBPACK_IMPORTED_MODULE_1__.getTeamsByUserId)(req.session.sub);\n        } else {\n            teams = []; // Return empty array if no user or userId provided\n        }\n        return res.status(200).json(teams);\n    } catch (error) {\n        console.error('Error fetching teams:', error);\n        return res.status(500).json({\n            message: 'Failed to fetch teams'\n        });\n    }\n}\n/**\n * Create a new team\n */ async function createTeamHandler(req, res) {\n    try {\n        const validation = (0,_models_team__WEBPACK_IMPORTED_MODULE_2__.validateTeam)(req.body);\n        if (!validation.isValid) {\n            const errorMessages = Object.values(validation.errors).join(', ');\n            return res.status(400).json({\n                message: errorMessages\n            });\n        }\n        // Check if user is authenticated via req.session populated by withAuth\n        const userId = req.session?.sub; // Use req.session.sub (standard for getToken)\n        const userName = req.session?.name || req.session?.email || 'Unknown User'; // Get name/email\n        if (!userId) {\n            return res.status(401).json({\n                message: 'Authentication required'\n            });\n        }\n        // Add the current user as the creator\n        const teamData = {\n            ...req.body,\n            userId: userId,\n            // Initialize with creator as the owner\n            members: [\n                {\n                    userId: userId,\n                    name: userName,\n                    role: 'owner',\n                    joinedAt: new Date()\n                }\n            ]\n        };\n        const team = await (0,_lib_repositories_teamRepository__WEBPACK_IMPORTED_MODULE_1__.createTeam)(teamData);\n        return res.status(201).json(team);\n    } catch (error) {\n        console.error('Error creating team:', error);\n        return res.status(500).json({\n            message: 'Failed to create team'\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.withAuth)(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XFVzZXJzXFxiYXVkaVxcT25lRHJpdmVcXERlc2t0b3BcXFByb21wdFByb1xcUHJvbXB0UHJvXFxwYWdlc1xcYXBpXFx0ZWFtc1xcaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2l0aEF1dGggfSBmcm9tICcuLi8uLi8uLi9saWIvYXV0aCc7XG5pbXBvcnQge1xuICBnZXRBbGxUZWFtcyxcbiAgZ2V0VGVhbXNCeVVzZXJJZCxcbiAgY3JlYXRlVGVhbSxcbn0gZnJvbSAnLi4vLi4vLi4vbGliL3JlcG9zaXRvcmllcy90ZWFtUmVwb3NpdG9yeSc7XG5pbXBvcnQgeyB2YWxpZGF0ZVRlYW0gfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvdGVhbSc7XG5cbi8qKlxuICogQVBJIGhhbmRsZXIgZm9yIHRlYW0gb3BlcmF0aW9uc1xuICogXG4gKiBHRVQ6IEdldCBhbGwgdGVhbXMgb3IgdGVhbXMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqIFBPU1Q6IENyZWF0ZSBhIG5ldyB0ZWFtXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgY29uc3QgeyBtZXRob2QgfSA9IHJlcTtcbiAgXG4gIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgY2FzZSAnR0VUJzpcbiAgICAgIHJldHVybiBnZXRUZWFtcyhyZXEsIHJlcyk7XG4gICAgY2FzZSAnUE9TVCc6XG4gICAgICByZXR1cm4gY3JlYXRlVGVhbUhhbmRsZXIocmVxLCByZXMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJywgJ1BPU1QnXSk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7bWV0aG9kfSBOb3QgQWxsb3dlZGApO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRlYW1zIGJhc2VkIG9uIHJlcXVlc3QgcGFyYW1ldGVyc1xuICogSWYgdXNlcklkIGlzIHByb3ZpZGVkLCByZXR1cm4gdGVhbXMgZm9yIHRoYXQgdXNlclxuICogT3RoZXJ3aXNlIHJldHVybiBhbGwgdGVhbXMgKGFkbWluIG9ubHkpXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFRlYW1zKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucXVlcnk7XG4gIFxuICB0cnkge1xuICAgIGxldCB0ZWFtcztcbiAgICBcbiAgICAvLyBJZiB1c2VySWQgaXMgc3BlY2lmaWVkLCBnZXQgdGVhbXMgZm9yIHRoYXQgdXNlclxuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIHRlYW1zID0gYXdhaXQgZ2V0VGVhbXNCeVVzZXJJZCh1c2VySWQpO1xuICAgIH0gXG4gICAgLy8gT3RoZXJ3aXNlIGdldCBhbGwgdGVhbXMgdGhlIGN1cnJlbnQgdXNlciBpcyBhIHBhcnQgb2ZcbiAgICBlbHNlIGlmIChyZXEuc2Vzc2lvbj8uc3ViKSB7XG4gICAgICB0ZWFtcyA9IGF3YWl0IGdldFRlYW1zQnlVc2VySWQocmVxLnNlc3Npb24uc3ViKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVhbXMgPSBbXTsgLy8gUmV0dXJuIGVtcHR5IGFycmF5IGlmIG5vIHVzZXIgb3IgdXNlcklkIHByb3ZpZGVkXG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih0ZWFtcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdGVhbXM6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggdGVhbXMnIH0pO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHRlYW1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVhbUhhbmRsZXIocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdmFsaWRhdGVUZWFtKHJlcS5ib2R5KTtcbiAgICBcbiAgICBpZiAoIXZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlcyA9IE9iamVjdC52YWx1ZXModmFsaWRhdGlvbi5lcnJvcnMpLmpvaW4oJywgJyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvck1lc3NhZ2VzIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgdmlhIHJlcS5zZXNzaW9uIHBvcHVsYXRlZCBieSB3aXRoQXV0aFxuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5zZXNzaW9uPy5zdWI7IC8vIFVzZSByZXEuc2Vzc2lvbi5zdWIgKHN0YW5kYXJkIGZvciBnZXRUb2tlbilcbiAgICBjb25zdCB1c2VyTmFtZSA9IHJlcS5zZXNzaW9uPy5uYW1lIHx8IHJlcS5zZXNzaW9uPy5lbWFpbCB8fCAnVW5rbm93biBVc2VyJzsgLy8gR2V0IG5hbWUvZW1haWxcbiAgICBcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHRoZSBjdXJyZW50IHVzZXIgYXMgdGhlIGNyZWF0b3JcbiAgICBjb25zdCB0ZWFtRGF0YSA9IHtcbiAgICAgIC4uLnJlcS5ib2R5LFxuICAgICAgdXNlcklkOiB1c2VySWQsIC8vIFVzZSB0aGUgdXNlcklkIGZyb20gdGhlIHNlc3Npb25cbiAgICAgIC8vIEluaXRpYWxpemUgd2l0aCBjcmVhdG9yIGFzIHRoZSBvd25lclxuICAgICAgbWVtYmVyczogW3tcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIG5hbWU6IHVzZXJOYW1lLFxuICAgICAgICByb2xlOiAnb3duZXInLFxuICAgICAgICBqb2luZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH1dXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB0ZWFtID0gYXdhaXQgY3JlYXRlVGVhbSh0ZWFtRGF0YSk7XG4gICAgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHRlYW0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHRlYW06JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIHRlYW0nIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhBdXRoKGhhbmRsZXIpOyJdLCJuYW1lcyI6WyJ3aXRoQXV0aCIsImdldEFsbFRlYW1zIiwiZ2V0VGVhbXNCeVVzZXJJZCIsImNyZWF0ZVRlYW0iLCJ2YWxpZGF0ZVRlYW0iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZ2V0VGVhbXMiLCJjcmVhdGVUZWFtSGFuZGxlciIsInNldEhlYWRlciIsInN0YXR1cyIsImVuZCIsInVzZXJJZCIsInF1ZXJ5IiwidGVhbXMiLCJzZXNzaW9uIiwic3ViIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJ2YWxpZGF0aW9uIiwiYm9keSIsImlzVmFsaWQiLCJlcnJvck1lc3NhZ2VzIiwiT2JqZWN0IiwidmFsdWVzIiwiZXJyb3JzIiwiam9pbiIsInVzZXJOYW1lIiwibmFtZSIsImVtYWlsIiwidGVhbURhdGEiLCJtZW1iZXJzIiwicm9sZSIsImpvaW5lZEF0IiwiRGF0ZSIsInRlYW0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/teams/index.js\n");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fteams&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cteams%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();