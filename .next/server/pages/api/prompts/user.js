"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/prompts/user";
exports.ids = ["pages/api/prompts/user"];
exports.modules = {

/***/ "(api-node)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthSession: () => (/* binding */ getAuthSession),\n/* harmony export */   withAuth: () => (/* binding */ withAuth),\n/* harmony export */   withAuthForMethods: () => (/* binding */ withAuthForMethods)\n/* harmony export */ });\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Check if the request is authenticated\r\n * @param {Object} req - The request object\r\n * @returns {Promise<Object|null>} - The user session or null if not authenticated\r\n */ async function getAuthSession(req) {\n    return await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n        req,\n        secret: process.env.NEXTAUTH_SECRET\n    });\n}\n/**\r\n * Higher-order function that creates an API handler that requires authentication\r\n * @param {Function} handler - The API handler to protect\r\n * @returns {Function} - The protected API handler\r\n */ function withAuth(handler) {\n    return async (req, res)=>{\n        const session = await getAuthSession(req);\n        if (!session) {\n            return res.status(401).json({\n                error: \"Unauthorized\"\n            });\n        }\n        // Add the session to the request object\n        req.session = session;\n        // Also add a user property for compatibility\n        req.user = {\n            id: session.sub || session.id,\n            name: session.name,\n            email: session.email\n        };\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n/**\r\n * Higher-order function that optionally requires authentication for certain methods\r\n * @param {Function} handler - The API handler \r\n * @param {Array} protectedMethods - HTTP methods that require authentication (e.g., ['POST', 'PUT', 'DELETE'])\r\n * @returns {Function} - The conditionally protected API handler\r\n */ function withAuthForMethods(handler, protectedMethods = [\n    'POST',\n    'PUT',\n    'DELETE'\n]) {\n    return async (req, res)=>{\n        // Check if the current method requires authentication\n        if (protectedMethods.includes(req.method)) {\n            const session = await getAuthSession(req);\n            if (!session) {\n                return res.status(401).json({\n                    error: \"Unauthorized\"\n                });\n            }\n            // Add the session to the request object\n            req.session = session;\n            // Also add a user property for compatibility\n            req.user = {\n                id: session.sub || session.id,\n                name: session.name,\n                email: session.email\n            };\n        }\n        // Call the original handler\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXlDO0FBRXpDOzs7O0NBSUMsR0FDTSxlQUFlQyxlQUFlQyxHQUFHO0lBQ3RDLE9BQU8sTUFBTUYsdURBQVFBLENBQUM7UUFBRUU7UUFBS0MsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0lBQUM7QUFDbkU7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0MsU0FBU0MsT0FBTztJQUM5QixPQUFPLE9BQU9OLEtBQUtPO1FBQ2pCLE1BQU1DLFVBQVUsTUFBTVQsZUFBZUM7UUFFckMsSUFBSSxDQUFDUSxTQUFTO1lBQ1osT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlO1FBQ3REO1FBRUEsd0NBQXdDO1FBQ3hDWCxJQUFJUSxPQUFPLEdBQUdBO1FBRWQsNkNBQTZDO1FBQzdDUixJQUFJWSxJQUFJLEdBQUc7WUFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO1lBQzdCRSxNQUFNUCxRQUFRTyxJQUFJO1lBQ2xCQyxPQUFPUixRQUFRUSxLQUFLO1FBQ3RCO1FBRUEsNEJBQTRCO1FBQzVCLE9BQU9WLFFBQVFOLEtBQUtPO0lBQ3RCO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNVLG1CQUFtQlgsT0FBTyxFQUFFWSxtQkFBbUI7SUFBQztJQUFRO0lBQU87Q0FBUztJQUN0RixPQUFPLE9BQU9sQixLQUFLTztRQUNqQixzREFBc0Q7UUFDdEQsSUFBSVcsaUJBQWlCQyxRQUFRLENBQUNuQixJQUFJb0IsTUFBTSxHQUFHO1lBQ3pDLE1BQU1aLFVBQVUsTUFBTVQsZUFBZUM7WUFFckMsSUFBSSxDQUFDUSxTQUFTO2dCQUNaLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQWU7WUFDdEQ7WUFFQSx3Q0FBd0M7WUFDeENYLElBQUlRLE9BQU8sR0FBR0E7WUFFZCw2Q0FBNkM7WUFDN0NSLElBQUlZLElBQUksR0FBRztnQkFDVEMsSUFBSUwsUUFBUU0sR0FBRyxJQUFJTixRQUFRSyxFQUFFO2dCQUM3QkUsTUFBTVAsUUFBUU8sSUFBSTtnQkFDbEJDLE9BQU9SLFFBQVFRLEtBQUs7WUFDdEI7UUFDRjtRQUVBLDRCQUE0QjtRQUM1QixPQUFPVixRQUFRTixLQUFLTztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGJhdWRpXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvbXB0UHJvXFxQcm9tcHRQcm9cXGxpYlxcYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIHJlcXVlc3QgaXMgYXV0aGVudGljYXRlZFxyXG4gKiBAcGFyYW0ge09iamVjdH0gcmVxIC0gVGhlIHJlcXVlc3Qgb2JqZWN0XHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBUaGUgdXNlciBzZXNzaW9uIG9yIG51bGwgaWYgbm90IGF1dGhlbnRpY2F0ZWRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRoU2Vzc2lvbihyZXEpIHtcclxuICByZXR1cm4gYXdhaXQgZ2V0VG9rZW4oeyByZXEsIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBUEkgaGFuZGxlciB0aGF0IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBUaGUgQVBJIGhhbmRsZXIgdG8gcHJvdGVjdFxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IC0gVGhlIHByb3RlY3RlZCBBUEkgaGFuZGxlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoKGhhbmRsZXIpIHtcclxuICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0QXV0aFNlc3Npb24ocmVxKTtcclxuICAgIFxyXG4gICAgaWYgKCFzZXNzaW9uKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIlVuYXV0aG9yaXplZFwiIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBBZGQgdGhlIHNlc3Npb24gdG8gdGhlIHJlcXVlc3Qgb2JqZWN0XHJcbiAgICByZXEuc2Vzc2lvbiA9IHNlc3Npb247XHJcbiAgICBcclxuICAgIC8vIEFsc28gYWRkIGEgdXNlciBwcm9wZXJ0eSBmb3IgY29tcGF0aWJpbGl0eVxyXG4gICAgcmVxLnVzZXIgPSB7XHJcbiAgICAgIGlkOiBzZXNzaW9uLnN1YiB8fCBzZXNzaW9uLmlkLFxyXG4gICAgICBuYW1lOiBzZXNzaW9uLm5hbWUsXHJcbiAgICAgIGVtYWlsOiBzZXNzaW9uLmVtYWlsXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBDYWxsIHRoZSBvcmlnaW5hbCBoYW5kbGVyXHJcbiAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IG9wdGlvbmFsbHkgcmVxdWlyZXMgYXV0aGVudGljYXRpb24gZm9yIGNlcnRhaW4gbWV0aG9kc1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gVGhlIEFQSSBoYW5kbGVyIFxyXG4gKiBAcGFyYW0ge0FycmF5fSBwcm90ZWN0ZWRNZXRob2RzIC0gSFRUUCBtZXRob2RzIHRoYXQgcmVxdWlyZSBhdXRoZW50aWNhdGlvbiAoZS5nLiwgWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSlcclxuICogQHJldHVybnMge0Z1bmN0aW9ufSAtIFRoZSBjb25kaXRpb25hbGx5IHByb3RlY3RlZCBBUEkgaGFuZGxlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRoRm9yTWV0aG9kcyhoYW5kbGVyLCBwcm90ZWN0ZWRNZXRob2RzID0gWydQT1NUJywgJ1BVVCcsICdERUxFVEUnXSkge1xyXG4gIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IG1ldGhvZCByZXF1aXJlcyBhdXRoZW50aWNhdGlvblxyXG4gICAgaWYgKHByb3RlY3RlZE1ldGhvZHMuaW5jbHVkZXMocmVxLm1ldGhvZCkpIHtcclxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldEF1dGhTZXNzaW9uKHJlcSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXNlc3Npb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQWRkIHRoZSBzZXNzaW9uIHRvIHRoZSByZXF1ZXN0IG9iamVjdFxyXG4gICAgICByZXEuc2Vzc2lvbiA9IHNlc3Npb247XHJcbiAgICAgIFxyXG4gICAgICAvLyBBbHNvIGFkZCBhIHVzZXIgcHJvcGVydHkgZm9yIGNvbXBhdGliaWxpdHlcclxuICAgICAgcmVxLnVzZXIgPSB7XHJcbiAgICAgICAgaWQ6IHNlc3Npb24uc3ViIHx8IHNlc3Npb24uaWQsXHJcbiAgICAgICAgbmFtZTogc2Vzc2lvbi5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBzZXNzaW9uLmVtYWlsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIGhhbmRsZXJcclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICB9O1xyXG59Il0sIm5hbWVzIjpbImdldFRva2VuIiwiZ2V0QXV0aFNlc3Npb24iLCJyZXEiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwid2l0aEF1dGgiLCJoYW5kbGVyIiwicmVzIiwic2Vzc2lvbiIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVzZXIiLCJpZCIsInN1YiIsIm5hbWUiLCJlbWFpbCIsIndpdGhBdXRoRm9yTWV0aG9kcyIsInByb3RlY3RlZE1ldGhvZHMiLCJpbmNsdWRlcyIsIm1ldGhvZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.js\n");

/***/ }),

/***/ "(api-node)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabaseConnection: () => (/* binding */ closeDatabaseConnection),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase),\n/* harmony export */   getCollection: () => (/* binding */ getCollection)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI;\nconst dbName = process.env.MONGODB_DB;\nif (!uri) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nif (!dbName) {\n    throw new Error('Please define the MONGODB_DB environment variable inside .env.local');\n}\nlet cachedClient = null;\nlet cachedDb = null;\n/**\r\n * Connects to the MongoDB database and returns the client and db instances.\r\n * Caches the connection to avoid reconnecting on every request in development.\r\n */ async function connectToDatabase() {\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    try {\n        const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, {\n        });\n        await client.connect();\n        const db = client.db(dbName);\n        console.log(\"Successfully connected to MongoDB.\");\n        cachedClient = client;\n        cachedDb = db;\n        return {\n            client,\n            db\n        };\n    } catch (error) {\n        console.error(\"Failed to connect to MongoDB\", error);\n        throw new Error(\"Could not connect to database.\");\n    }\n}\n// Optional: Helper to close the connection (useful for scripts or tests)\nasync function closeDatabaseConnection() {\n    if (cachedClient) {\n        await cachedClient.close();\n        cachedClient = null;\n        cachedDb = null;\n        console.log(\"MongoDB connection closed.\");\n    }\n}\n// Helper function to get collection references\nasync function getCollection(collectionName) {\n    const { db } = await connectToDatabase();\n    return db.collection(collectionName);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9tb25nb2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBRXRDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNuQyxNQUFNQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLFVBQVU7QUFFckMsSUFBSSxDQUFDTCxLQUFLO0lBQ1IsTUFBTSxJQUFJTSxNQUFNO0FBQ2xCO0FBRUEsSUFBSSxDQUFDRixRQUFRO0lBQ1gsTUFBTSxJQUFJRSxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsZUFBZTtBQUNuQixJQUFJQyxXQUFXO0FBRWY7OztDQUdDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSUYsZ0JBQWdCQyxVQUFVO1FBQzVCLE9BQU87WUFBRUUsUUFBUUg7WUFBY0ksSUFBSUg7UUFBUztJQUM5QztJQUVBLElBQUk7UUFDRixNQUFNRSxTQUFTLElBQUlYLGdEQUFXQSxDQUFDQyxLQUFLO1FBR3BDO1FBRUEsTUFBTVUsT0FBT0UsT0FBTztRQUNwQixNQUFNRCxLQUFLRCxPQUFPQyxFQUFFLENBQUNQO1FBRXJCUyxRQUFRQyxHQUFHLENBQUM7UUFFWlAsZUFBZUc7UUFDZkYsV0FBV0c7UUFFWCxPQUFPO1lBQUVEO1lBQVFDO1FBQUc7SUFDdEIsRUFBRSxPQUFPSSxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE1BQU0sSUFBSVQsTUFBTTtJQUNsQjtBQUNGO0FBRUEseUVBQXlFO0FBQ2xFLGVBQWVVO0lBQ3BCLElBQUlULGNBQWM7UUFDaEIsTUFBTUEsYUFBYVUsS0FBSztRQUN4QlYsZUFBZTtRQUNmQyxXQUFXO1FBQ1hLLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0FBQ0Y7QUFFQSwrQ0FBK0M7QUFDeEMsZUFBZUksY0FBY0MsY0FBYztJQUNoRCxNQUFNLEVBQUVSLEVBQUUsRUFBRSxHQUFHLE1BQU1GO0lBQ3JCLE9BQU9FLEdBQUdTLFVBQVUsQ0FBQ0Q7QUFDdkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xcbGliXFxtb25nb2RiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XHJcblxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc3QgZGJOYW1lID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQjtcclxuXHJcbmlmICghdXJpKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5pZiAoIWRiTmFtZSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9EQiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxubGV0IGNhY2hlZERiID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiBDb25uZWN0cyB0byB0aGUgTW9uZ29EQiBkYXRhYmFzZSBhbmQgcmV0dXJucyB0aGUgY2xpZW50IGFuZCBkYiBpbnN0YW5jZXMuXHJcbiAqIENhY2hlcyB0aGUgY29ubmVjdGlvbiB0byBhdm9pZCByZWNvbm5lY3Rpbmcgb24gZXZlcnkgcmVxdWVzdCBpbiBkZXZlbG9wbWVudC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcclxuICBpZiAoY2FjaGVkQ2xpZW50ICYmIGNhY2hlZERiKSB7XHJcbiAgICByZXR1cm4geyBjbGllbnQ6IGNhY2hlZENsaWVudCwgZGI6IGNhY2hlZERiIH07XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwge1xyXG4gICAgICAvLyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIC8vIERlcHJlY2F0ZWQgaW4gbmV3ZXIgdmVyc2lvbnNcclxuICAgICAgLy8gdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLCAvLyBEZXByZWNhdGVkIGluIG5ld2VyIHZlcnNpb25zXHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpO1xyXG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoZGJOYW1lKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gTW9uZ29EQi5cIik7XHJcblxyXG4gICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xyXG4gICAgY2FjaGVkRGIgPSBkYjtcclxuXHJcbiAgICByZXR1cm4geyBjbGllbnQsIGRiIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB0byBNb25nb0RCXCIsIGVycm9yKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb25uZWN0IHRvIGRhdGFiYXNlLlwiKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE9wdGlvbmFsOiBIZWxwZXIgdG8gY2xvc2UgdGhlIGNvbm5lY3Rpb24gKHVzZWZ1bCBmb3Igc2NyaXB0cyBvciB0ZXN0cylcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlRGF0YWJhc2VDb25uZWN0aW9uKCkge1xyXG4gIGlmIChjYWNoZWRDbGllbnQpIHtcclxuICAgIGF3YWl0IGNhY2hlZENsaWVudC5jbG9zZSgpO1xyXG4gICAgY2FjaGVkQ2xpZW50ID0gbnVsbDtcclxuICAgIGNhY2hlZERiID0gbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBjb25uZWN0aW9uIGNsb3NlZC5cIik7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGNvbGxlY3Rpb24gcmVmZXJlbmNlc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSkge1xyXG4gIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XHJcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xyXG59ICJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInVyaSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsImRiTmFtZSIsIk1PTkdPREJfREIiLCJFcnJvciIsImNhY2hlZENsaWVudCIsImNhY2hlZERiIiwiY29ubmVjdFRvRGF0YWJhc2UiLCJjbGllbnQiLCJkYiIsImNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjbG9zZURhdGFiYXNlQ29ubmVjdGlvbiIsImNsb3NlIiwiZ2V0Q29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api-node)/./lib/repositories/promptRepository.js":
/*!**********************************************!*\
  !*** ./lib/repositories/promptRepository.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPrompt: () => (/* binding */ createPrompt),\n/* harmony export */   deletePrompt: () => (/* binding */ deletePrompt),\n/* harmony export */   getAllPrompts: () => (/* binding */ getAllPrompts),\n/* harmony export */   getPromptById: () => (/* binding */ getPromptById),\n/* harmony export */   incrementUsageCount: () => (/* binding */ incrementUsageCount),\n/* harmony export */   searchPrompts: () => (/* binding */ searchPrompts),\n/* harmony export */   updatePrompt: () => (/* binding */ updatePrompt)\n/* harmony export */ });\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mongodb */ \"(api-node)/./lib/mongodb.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst COLLECTION_NAME = 'prompts';\n/**\r\n * Get all prompts with optional filtering\r\n * @param {Object} filter - Optional filter criteria\r\n * @returns {Promise<Array>} Array of prompts\r\n */ async function getAllPrompts(filter = {}) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const prompts = await collection.find(filter).toArray();\n    return prompts.map(mapMongoPrompt);\n}\n/**\r\n * Get a single prompt by ID\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<Object|null>} Prompt object or null\r\n */ async function getPromptById(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const prompt = await collection.findOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return prompt ? mapMongoPrompt(prompt) : null;\n}\n/**\r\n * Create a new prompt\r\n * @param {Object} promptData - Prompt data\r\n * @returns {Promise<Object>} Created prompt\r\n */ async function createPrompt(promptData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const newPrompt = {\n        ...promptData,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        usageCount: 0,\n        rating: promptData.rating || 0\n    };\n    const result = await collection.insertOne(newPrompt);\n    return {\n        id: result.insertedId.toString(),\n        ...newPrompt\n    };\n}\n/**\r\n * Update an existing prompt\r\n * @param {string} id - Prompt ID\r\n * @param {Object} promptData - Updated prompt data\r\n * @returns {Promise<Object|null>} Updated prompt or null\r\n */ async function updatePrompt(id, promptData) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const updatedPrompt = {\n        ...promptData,\n        updatedAt: new Date()\n    };\n    // Don't override these fields if not explicitly provided\n    delete updatedPrompt._id;\n    delete updatedPrompt.id;\n    delete updatedPrompt.createdAt;\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $set: updatedPrompt\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoPrompt(result.value) : null;\n}\n/**\r\n * Delete a prompt\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<boolean>} Success flag\r\n */ async function deletePrompt(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.deleteOne({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    });\n    return result.deletedCount === 1;\n}\n/**\r\n * Increment prompt usage count\r\n * @param {string} id - Prompt ID\r\n * @returns {Promise<Object|null>} Updated prompt or null\r\n */ async function incrementUsageCount(id) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    const result = await collection.findOneAndUpdate({\n        _id: new mongodb__WEBPACK_IMPORTED_MODULE_1__.ObjectId(id)\n    }, {\n        $inc: {\n            usageCount: 1\n        }\n    }, {\n        returnDocument: 'after'\n    });\n    return result.value ? mapMongoPrompt(result.value) : null;\n}\n/**\r\n * Search prompts with advanced filtering\r\n * @param {string} query - Search text\r\n * @param {Object} options - Search options\r\n * @returns {Promise<Array>} Array of matching prompts\r\n */ async function searchPrompts(query, options = {}) {\n    const collection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_0__.getCollection)(COLLECTION_NAME);\n    // Build MongoDB query\n    const filter = {};\n    // Text search if query provided\n    if (query && query.trim() !== '') {\n        filter.$or = [\n            {\n                title: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                content: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                description: {\n                    $regex: query,\n                    $options: 'i'\n                }\n            },\n            {\n                tags: {\n                    $in: [\n                        query\n                    ]\n                }\n            }\n        ];\n    }\n    // Apply filters\n    if (options.userId) {\n        filter.userId = options.userId;\n    }\n    if (options.teamId) {\n        filter.$or = filter.$or || [];\n        filter.$or.push({\n            teamId: options.teamId\n        }, {\n            visibility: 'team',\n            teamId: options.teamId\n        });\n    }\n    if (options.visibility) {\n        filter.visibility = options.visibility;\n    }\n    if (options.aiPlatform) {\n        filter.aiPlatform = options.aiPlatform;\n    }\n    if (options.minRating) {\n        filter.rating = {\n            $gte: parseFloat(options.minRating)\n        };\n    }\n    if (options.minUsageCount) {\n        filter.usageCount = {\n            $gte: parseInt(options.minUsageCount, 10)\n        };\n    }\n    if (options.tags && options.tags.length > 0) {\n        const tags = Array.isArray(options.tags) ? options.tags : [\n            options.tags\n        ];\n        if (options.tagMatchType === 'any') {\n            filter.tags = {\n                $in: tags\n            };\n        } else {\n            filter.tags = {\n                $all: tags\n            };\n        }\n    }\n    // Sort options\n    const sort = {};\n    if (options.sortBy) {\n        sort[options.sortBy] = options.sortDirection === 'desc' ? -1 : 1;\n    } else {\n        sort.createdAt = -1; // Default sort by newest\n    }\n    const prompts = await collection.find(filter).sort(sort).limit(options.limit || 100).toArray();\n    return prompts.map(mapMongoPrompt);\n}\n/**\r\n * Map MongoDB document to app model (handling _id conversion)\r\n * @param {Object} doc - MongoDB document\r\n * @returns {Object} Mapped prompt object\r\n */ function mapMongoPrompt(doc) {\n    return {\n        id: doc._id.toString(),\n        ...doc,\n        _id: undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9yZXBvc2l0b3JpZXMvcHJvbXB0UmVwb3NpdG9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ1I7QUFFbkMsTUFBTUUsa0JBQWtCO0FBRXhCOzs7O0NBSUMsR0FDTSxlQUFlQyxjQUFjQyxTQUFTLENBQUMsQ0FBQztJQUM3QyxNQUFNQyxhQUFhLE1BQU1MLHVEQUFhQSxDQUFDRTtJQUN2QyxNQUFNSSxVQUFVLE1BQU1ELFdBQVdFLElBQUksQ0FBQ0gsUUFBUUksT0FBTztJQUNyRCxPQUFPRixRQUFRRyxHQUFHLENBQUNDO0FBQ3JCO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVDLGNBQWNDLEVBQUU7SUFDcEMsTUFBTVAsYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFDdkMsTUFBTVcsU0FBUyxNQUFNUixXQUFXUyxPQUFPLENBQUM7UUFBRUMsS0FBSyxJQUFJZCw2Q0FBUUEsQ0FBQ1c7SUFBSTtJQUNoRSxPQUFPQyxTQUFTSCxlQUFlRyxVQUFVO0FBQzNDO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVHLGFBQWFDLFVBQVU7SUFDM0MsTUFBTVosYUFBYSxNQUFNTCx1REFBYUEsQ0FBQ0U7SUFFdkMsTUFBTWdCLFlBQVk7UUFDaEIsR0FBR0QsVUFBVTtRQUNiRSxXQUFXLElBQUlDO1FBQ2ZDLFdBQVcsSUFBSUQ7UUFDZkUsWUFBWTtRQUNaQyxRQUFRTixXQUFXTSxNQUFNLElBQUk7SUFDL0I7SUFFQSxNQUFNQyxTQUFTLE1BQU1uQixXQUFXb0IsU0FBUyxDQUFDUDtJQUUxQyxPQUFPO1FBQ0xOLElBQUlZLE9BQU9FLFVBQVUsQ0FBQ0MsUUFBUTtRQUM5QixHQUFHVCxTQUFTO0lBQ2Q7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sZUFBZVUsYUFBYWhCLEVBQUUsRUFBRUssVUFBVTtJQUMvQyxNQUFNWixhQUFhLE1BQU1MLHVEQUFhQSxDQUFDRTtJQUV2QyxNQUFNMkIsZ0JBQWdCO1FBQ3BCLEdBQUdaLFVBQVU7UUFDYkks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QUFRUSxJQUFJLElBQUlSLFFBQVFRLElBQUksQ0FBQ1ksTUFBTSxHQUFHLEdBQUc7UUFDM0MsTUFBTVosT0FBT2EsTUFBTUMsT0FBTyxDQUFDdEIsUUFBUVEsSUFBSSxJQUFJUixRQUFRUSxJQUFJLEdBQUc7WUFBQ1IsUUFBUVEsSUFBSTtTQUFDO1FBRXhFLElBQUlSLFFBQVF1QixZQUFZLEtBQUssT0FBTztZQUNsQzVELE9BQU82QyxJQUFJLEdBQUc7Z0JBQUVDLEtBQUtEO1lBQUs7UUFDNUIsT0FBTztZQUNMN0MsT0FBTzZDLElBQUksR0FBRztnQkFBRWdCLE1BQU1oQjtZQUFLO1FBQzdCO0lBQ0Y7SUFFQSxlQUFlO0lBQ2YsTUFBTWlCLE9BQU8sQ0FBQztJQUNkLElBQUl6QixRQUFRMEIsTUFBTSxFQUFFO1FBQ2xCRCxJQUFJLENBQUN6QixRQUFRMEIsTUFBTSxDQUFDLEdBQUcxQixRQUFRMkIsYUFBYSxLQUFLLFNBQVMsQ0FBQyxJQUFJO0lBQ2pFLE9BQU87UUFDTEYsS0FBSy9DLFNBQVMsR0FBRyxDQUFDLEdBQUcseUJBQXlCO0lBQ2hEO0lBRUEsTUFBTWIsVUFBVSxNQUFNRCxXQUNuQkUsSUFBSSxDQUFDSCxRQUNMOEQsSUFBSSxDQUFDQSxNQUNMRyxLQUFLLENBQUM1QixRQUFRNEIsS0FBSyxJQUFJLEtBQ3ZCN0QsT0FBTztJQUVWLE9BQU9GLFFBQVFHLEdBQUcsQ0FBQ0M7QUFDckI7QUFFQTs7OztDQUlDLEdBQ0QsU0FBU0EsZUFBZTRELEdBQUc7SUFDekIsT0FBTztRQUNMMUQsSUFBSTBELElBQUl2RCxHQUFHLENBQUNZLFFBQVE7UUFDcEIsR0FBRzJDLEdBQUc7UUFDTnZELEtBQUt3RDtJQUNQO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xcbGliXFxyZXBvc2l0b3JpZXNcXHByb21wdFJlcG9zaXRvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gJy4uL21vbmdvZGInO1xyXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgQ09MTEVDVElPTl9OQU1FID0gJ3Byb21wdHMnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgcHJvbXB0cyB3aXRoIG9wdGlvbmFsIGZpbHRlcmluZ1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZmlsdGVyIC0gT3B0aW9uYWwgZmlsdGVyIGNyaXRlcmlhXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQXJyYXkgb2YgcHJvbXB0c1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFByb21wdHMoZmlsdGVyID0ge30pIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHByb21wdHMgPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoZmlsdGVyKS50b0FycmF5KCk7XHJcbiAgcmV0dXJuIHByb21wdHMubWFwKG1hcE1vbmdvUHJvbXB0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBhIHNpbmdsZSBwcm9tcHQgYnkgSURcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gUHJvbXB0IElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gUHJvbXB0IG9iamVjdCBvciBudWxsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvbXB0QnlJZChpZCkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgY29uc3QgcHJvbXB0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiBwcm9tcHQgPyBtYXBNb25nb1Byb21wdChwcm9tcHQpIDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBwcm9tcHRcclxuICogQHBhcmFtIHtPYmplY3R9IHByb21wdERhdGEgLSBQcm9tcHQgZGF0YVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBDcmVhdGVkIHByb21wdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb21wdChwcm9tcHREYXRhKSB7XHJcbiAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTl9OQU1FKTtcclxuICBcclxuICBjb25zdCBuZXdQcm9tcHQgPSB7XHJcbiAgICAuLi5wcm9tcHREYXRhLFxyXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgdXNhZ2VDb3VudDogMCxcclxuICAgIHJhdGluZzogcHJvbXB0RGF0YS5yYXRpbmcgfHwgMFxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUobmV3UHJvbXB0KTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHJlc3VsdC5pbnNlcnRlZElkLnRvU3RyaW5nKCksXHJcbiAgICAuLi5uZXdQcm9tcHRcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogVXBkYXRlIGFuIGV4aXN0aW5nIHByb21wdFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQcm9tcHQgSURcclxuICogQHBhcmFtIHtPYmplY3R9IHByb21wdERhdGEgLSBVcGRhdGVkIHByb21wdCBkYXRhXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVXBkYXRlZCBwcm9tcHQgb3IgbnVsbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb21wdChpZCwgcHJvbXB0RGF0YSkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgXHJcbiAgY29uc3QgdXBkYXRlZFByb21wdCA9IHtcclxuICAgIC4uLnByb21wdERhdGEsXHJcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICB9O1xyXG4gIFxyXG4gIC8vIERvbid0IG92ZXJyaWRlIHRoZXNlIGZpZWxkcyBpZiBub3QgZXhwbGljaXRseSBwcm92aWRlZFxyXG4gIGRlbGV0ZSB1cGRhdGVkUHJvbXB0Ll9pZDtcclxuICBkZWxldGUgdXBkYXRlZFByb21wdC5pZDtcclxuICBkZWxldGUgdXBkYXRlZFByb21wdC5jcmVhdGVkQXQ7XHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgfSxcclxuICAgIHsgJHNldDogdXBkYXRlZFByb21wdCB9LFxyXG4gICAgeyByZXR1cm5Eb2N1bWVudDogJ2FmdGVyJyB9XHJcbiAgKTtcclxuICBcclxuICByZXR1cm4gcmVzdWx0LnZhbHVlID8gbWFwTW9uZ29Qcm9tcHQocmVzdWx0LnZhbHVlKSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSBwcm9tcHRcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gUHJvbXB0IElEXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBTdWNjZXNzIGZsYWdcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9tcHQoaWQpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoaWQpIH0pO1xyXG4gIHJldHVybiByZXN1bHQuZGVsZXRlZENvdW50ID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogSW5jcmVtZW50IHByb21wdCB1c2FnZSBjb3VudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQcm9tcHQgSURcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSBVcGRhdGVkIHByb21wdCBvciBudWxsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5jcmVtZW50VXNhZ2VDb3VudChpZCkge1xyXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05fTkFNRSk7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgeyBfaWQ6IG5ldyBPYmplY3RJZChpZCkgfSxcclxuICAgIHsgJGluYzogeyB1c2FnZUNvdW50OiAxIH0gfSxcclxuICAgIHsgcmV0dXJuRG9jdW1lbnQ6ICdhZnRlcicgfVxyXG4gICk7XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdC52YWx1ZSA/IG1hcE1vbmdvUHJvbXB0KHJlc3VsdC52YWx1ZSkgOiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogU2VhcmNoIHByb21wdHMgd2l0aCBhZHZhbmNlZCBmaWx0ZXJpbmdcclxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IC0gU2VhcmNoIHRleHRcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTZWFyY2ggb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IEFycmF5IG9mIG1hdGNoaW5nIHByb21wdHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hQcm9tcHRzKHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcclxuICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OX05BTUUpO1xyXG4gIFxyXG4gIC8vIEJ1aWxkIE1vbmdvREIgcXVlcnlcclxuICBjb25zdCBmaWx0ZXIgPSB7fTtcclxuICBcclxuICAvLyBUZXh0IHNlYXJjaCBpZiBxdWVyeSBwcm92aWRlZFxyXG4gIGlmIChxdWVyeSAmJiBxdWVyeS50cmltKCkgIT09ICcnKSB7XHJcbiAgICBmaWx0ZXIuJG9yID0gW1xyXG4gICAgICB7IHRpdGxlOiB7ICRyZWdleDogcXVlcnksICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICB7IGNvbnRlbnQ6IHsgJHJlZ2V4OiBxdWVyeSwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgIHsgZGVzY3JpcHRpb246IHsgJHJlZ2V4OiBxdWVyeSwgJG9wdGlvbnM6ICdpJyB9IH0sXHJcbiAgICAgIHsgdGFnczogeyAkaW46IFtxdWVyeV0gfSB9XHJcbiAgICBdO1xyXG4gIH1cclxuICBcclxuICAvLyBBcHBseSBmaWx0ZXJzXHJcbiAgaWYgKG9wdGlvbnMudXNlcklkKSB7XHJcbiAgICBmaWx0ZXIudXNlcklkID0gb3B0aW9ucy51c2VySWQ7XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLnRlYW1JZCkge1xyXG4gICAgZmlsdGVyLiRvciA9IGZpbHRlci4kb3IgfHwgW107XHJcbiAgICBmaWx0ZXIuJG9yLnB1c2goXHJcbiAgICAgIHsgdGVhbUlkOiBvcHRpb25zLnRlYW1JZCB9LFxyXG4gICAgICB7IHZpc2liaWxpdHk6ICd0ZWFtJywgdGVhbUlkOiBvcHRpb25zLnRlYW1JZCB9XHJcbiAgICApO1xyXG4gIH1cclxuICBcclxuICBpZiAob3B0aW9ucy52aXNpYmlsaXR5KSB7XHJcbiAgICBmaWx0ZXIudmlzaWJpbGl0eSA9IG9wdGlvbnMudmlzaWJpbGl0eTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9wdGlvbnMuYWlQbGF0Zm9ybSkge1xyXG4gICAgZmlsdGVyLmFpUGxhdGZvcm0gPSBvcHRpb25zLmFpUGxhdGZvcm07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLm1pblJhdGluZykge1xyXG4gICAgZmlsdGVyLnJhdGluZyA9IHsgJGd0ZTogcGFyc2VGbG9hdChvcHRpb25zLm1pblJhdGluZykgfTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKG9wdGlvbnMubWluVXNhZ2VDb3VudCkge1xyXG4gICAgZmlsdGVyLnVzYWdlQ291bnQgPSB7ICRndGU6IHBhcnNlSW50KG9wdGlvbnMubWluVXNhZ2VDb3VudCwgMTApIH07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChvcHRpb25zLnRhZ3MgJiYgb3B0aW9ucy50YWdzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHRhZ3MgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMudGFncykgPyBvcHRpb25zLnRhZ3MgOiBbb3B0aW9ucy50YWdzXTtcclxuICAgIFxyXG4gICAgaWYgKG9wdGlvbnMudGFnTWF0Y2hUeXBlID09PSAnYW55Jykge1xyXG4gICAgICBmaWx0ZXIudGFncyA9IHsgJGluOiB0YWdzIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWx0ZXIudGFncyA9IHsgJGFsbDogdGFncyB9O1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBTb3J0IG9wdGlvbnNcclxuICBjb25zdCBzb3J0ID0ge307XHJcbiAgaWYgKG9wdGlvbnMuc29ydEJ5KSB7XHJcbiAgICBzb3J0W29wdGlvbnMuc29ydEJ5XSA9IG9wdGlvbnMuc29ydERpcmVjdGlvbiA9PT0gJ2Rlc2MnID8gLTEgOiAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3J0LmNyZWF0ZWRBdCA9IC0xOyAvLyBEZWZhdWx0IHNvcnQgYnkgbmV3ZXN0XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IHByb21wdHMgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAuZmluZChmaWx0ZXIpXHJcbiAgICAuc29ydChzb3J0KVxyXG4gICAgLmxpbWl0KG9wdGlvbnMubGltaXQgfHwgMTAwKVxyXG4gICAgLnRvQXJyYXkoKTtcclxuICBcclxuICByZXR1cm4gcHJvbXB0cy5tYXAobWFwTW9uZ29Qcm9tcHQpO1xyXG59XHJcblxyXG4vKipcclxuICogTWFwIE1vbmdvREIgZG9jdW1lbnQgdG8gYXBwIG1vZGVsIChoYW5kbGluZyBfaWQgY29udmVyc2lvbilcclxuICogQHBhcmFtIHtPYmplY3R9IGRvYyAtIE1vbmdvREIgZG9jdW1lbnRcclxuICogQHJldHVybnMge09iamVjdH0gTWFwcGVkIHByb21wdCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIG1hcE1vbmdvUHJvbXB0KGRvYykge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZG9jLl9pZC50b1N0cmluZygpLFxyXG4gICAgLi4uZG9jLFxyXG4gICAgX2lkOiB1bmRlZmluZWRcclxuICB9O1xyXG59ICJdLCJuYW1lcyI6WyJnZXRDb2xsZWN0aW9uIiwiT2JqZWN0SWQiLCJDT0xMRUNUSU9OX05BTUUiLCJnZXRBbGxQcm9tcHRzIiwiZmlsdGVyIiwiY29sbGVjdGlvbiIsInByb21wdHMiLCJmaW5kIiwidG9BcnJheSIsIm1hcCIsIm1hcE1vbmdvUHJvbXB0IiwiZ2V0UHJvbXB0QnlJZCIsImlkIiwicHJvbXB0IiwiZmluZE9uZSIsIl9pZCIsImNyZWF0ZVByb21wdCIsInByb21wdERhdGEiLCJuZXdQcm9tcHQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwidXNhZ2VDb3VudCIsInJhdGluZyIsInJlc3VsdCIsImluc2VydE9uZSIsImluc2VydGVkSWQiLCJ0b1N0cmluZyIsInVwZGF0ZVByb21wdCIsInVwZGF0ZWRQcm9tcHQiLCJmaW5kT25lQW5kVXBkYXRlIiwiJHNldCIsInJldHVybkRvY3VtZW50IiwidmFsdWUiLCJkZWxldGVQcm9tcHQiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJpbmNyZW1lbnRVc2FnZUNvdW50IiwiJGluYyIsInNlYXJjaFByb21wdHMiLCJxdWVyeSIsIm9wdGlvbnMiLCJ0cmltIiwiJG9yIiwidGl0bGUiLCIkcmVnZXgiLCIkb3B0aW9ucyIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCIkaW4iLCJ1c2VySWQiLCJ0ZWFtSWQiLCJwdXNoIiwidmlzaWJpbGl0eSIsImFpUGxhdGZvcm0iLCJtaW5SYXRpbmciLCIkZ3RlIiwicGFyc2VGbG9hdCIsIm1pblVzYWdlQ291bnQiLCJwYXJzZUludCIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsInRhZ01hdGNoVHlwZSIsIiRhbGwiLCJzb3J0Iiwic29ydEJ5Iiwic29ydERpcmVjdGlvbiIsImxpbWl0IiwiZG9jIiwidW5kZWZpbmVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/repositories/promptRepository.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts%2Fuser&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cuser.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts%2Fuser&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cuser.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_prompts_user_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\prompts\\user.js */ \"(api-node)/./pages/api/prompts/user.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_user_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_user_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/prompts/user\",\n        pathname: \"/api/prompts/user\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_prompts_user_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHJvbXB0cyUyRnVzZXImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3Byb21wdHMlNUN1c2VyLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccHJvbXB0c1xcXFx1c2VyLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9tcHRzL3VzZXJcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9tcHRzL3VzZXJcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts%2Fuser&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cuser.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/prompts/user.js":
/*!***********************************!*\
  !*** ./pages/api/prompts/user.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/auth */ \"(api-node)/./lib/auth.js\");\n/* harmony import */ var _lib_repositories_promptRepository__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/repositories/promptRepository */ \"(api-node)/./lib/repositories/promptRepository.js\");\n\n\n/**\r\n * API handler for retrieving the current user's prompts\r\n * \r\n * GET: Get all prompts created by the current user\r\n */ async function handler(req, res) {\n    // Set cache control headers to prevent caching\n    res.setHeader('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate');\n    res.setHeader('Pragma', 'no-cache');\n    res.setHeader('Expires', '0');\n    if (req.method !== 'GET') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    try {\n        // Get the user ID from the authenticated request\n        const userId = req.user?.id || req.session?.user?.id || req.session?.sub;\n        if (!userId) {\n            return res.status(401).json({\n                message: 'Authentication required'\n            });\n        }\n        console.log('Fetching prompts for authenticated user:', userId);\n        // Get all prompts for this user\n        const prompts = await _lib_repositories_promptRepository__WEBPACK_IMPORTED_MODULE_1__.getAllPrompts({\n            userId\n        });\n        console.log(`Found ${prompts.length} prompts for user ${userId}`);\n        // Return the prompts\n        return res.status(200).json(prompts);\n    } catch (error) {\n        console.error('Error getting user prompts:', error);\n        return res.status(500).json({\n            message: 'Internal server error'\n        });\n    }\n}\n// Protect this endpoint with authentication\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.withAuth)(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9wcm9tcHRzL3VzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ2tDO0FBRS9FOzs7O0NBSUMsR0FDRCxlQUFlRSxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDN0IsK0NBQStDO0lBQy9DQSxJQUFJQyxTQUFTLENBQUMsaUJBQWlCO0lBQy9CRCxJQUFJQyxTQUFTLENBQUMsVUFBVTtJQUN4QkQsSUFBSUMsU0FBUyxDQUFDLFdBQVc7SUFFekIsSUFBSUYsSUFBSUcsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1FBQXFCO0lBQzlEO0lBRUEsSUFBSTtRQUNGLGlEQUFpRDtRQUNqRCxNQUFNQyxTQUFTUCxJQUFJUSxJQUFJLEVBQUVDLE1BQU1ULElBQUlVLE9BQU8sRUFBRUYsTUFBTUMsTUFBTVQsSUFBSVUsT0FBTyxFQUFFQztRQUVyRSxJQUFJLENBQUNKLFFBQVE7WUFDWCxPQUFPTixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQTBCO1FBQ25FO1FBRUFNLFFBQVFDLEdBQUcsQ0FBQyw0Q0FBNENOO1FBRXhELGdDQUFnQztRQUNoQyxNQUFNTyxVQUFVLE1BQU1oQiw2RUFBOEIsQ0FBQztZQUFFUztRQUFPO1FBRTlESyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUVDLFFBQVFFLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRVQsUUFBUTtRQUVoRSxxQkFBcUI7UUFDckIsT0FBT04sSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ1M7SUFDOUIsRUFBRSxPQUFPRyxPQUFPO1FBQ2RMLFFBQVFLLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9oQixJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBd0I7SUFDakU7QUFDRjtBQUVBLDRDQUE0QztBQUM1QyxpRUFBZVQsbURBQVFBLENBQUNFLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYmF1ZGlcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9tcHRQcm9cXFByb21wdFByb1xccGFnZXNcXGFwaVxccHJvbXB0c1xcdXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3aXRoQXV0aCB9IGZyb20gJy4uLy4uLy4uL2xpYi9hdXRoJztcclxuaW1wb3J0ICogYXMgcHJvbXB0UmVwb3NpdG9yeSBmcm9tICcuLi8uLi8uLi9saWIvcmVwb3NpdG9yaWVzL3Byb21wdFJlcG9zaXRvcnknO1xyXG5cclxuLyoqXHJcbiAqIEFQSSBoYW5kbGVyIGZvciByZXRyaWV2aW5nIHRoZSBjdXJyZW50IHVzZXIncyBwcm9tcHRzXHJcbiAqIFxyXG4gKiBHRVQ6IEdldCBhbGwgcHJvbXB0cyBjcmVhdGVkIGJ5IHRoZSBjdXJyZW50IHVzZXJcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICAvLyBTZXQgY2FjaGUgY29udHJvbCBoZWFkZXJzIHRvIHByZXZlbnQgY2FjaGluZ1xyXG4gIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUsIG5vLWNhY2hlLCBtdXN0LXJldmFsaWRhdGUsIHByb3h5LXJldmFsaWRhdGUnKTtcclxuICByZXMuc2V0SGVhZGVyKCdQcmFnbWEnLCAnbm8tY2FjaGUnKTtcclxuICByZXMuc2V0SGVhZGVyKCdFeHBpcmVzJywgJzAnKTtcclxuICBcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gR2V0IHRoZSB1c2VyIElEIGZyb20gdGhlIGF1dGhlbnRpY2F0ZWQgcmVxdWVzdFxyXG4gICAgY29uc3QgdXNlcklkID0gcmVxLnVzZXI/LmlkIHx8IHJlcS5zZXNzaW9uPy51c2VyPy5pZCB8fCByZXEuc2Vzc2lvbj8uc3ViO1xyXG4gICAgXHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcHJvbXB0cyBmb3IgYXV0aGVudGljYXRlZCB1c2VyOicsIHVzZXJJZCk7XHJcbiAgICBcclxuICAgIC8vIEdldCBhbGwgcHJvbXB0cyBmb3IgdGhpcyB1c2VyXHJcbiAgICBjb25zdCBwcm9tcHRzID0gYXdhaXQgcHJvbXB0UmVwb3NpdG9yeS5nZXRBbGxQcm9tcHRzKHsgdXNlcklkIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtwcm9tcHRzLmxlbmd0aH0gcHJvbXB0cyBmb3IgdXNlciAke3VzZXJJZH1gKTtcclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIHRoZSBwcm9tcHRzXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocHJvbXB0cyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBwcm9tcHRzOicsIGVycm9yKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gUHJvdGVjdCB0aGlzIGVuZHBvaW50IHdpdGggYXV0aGVudGljYXRpb25cclxuZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgoaGFuZGxlcik7ICJdLCJuYW1lcyI6WyJ3aXRoQXV0aCIsInByb21wdFJlcG9zaXRvcnkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ1c2VySWQiLCJ1c2VyIiwiaWQiLCJzZXNzaW9uIiwic3ViIiwiY29uc29sZSIsImxvZyIsInByb21wdHMiLCJnZXRBbGxQcm9tcHRzIiwibGVuZ3RoIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/prompts/user.js\n");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts%2Fuser&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprompts%5Cuser.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();